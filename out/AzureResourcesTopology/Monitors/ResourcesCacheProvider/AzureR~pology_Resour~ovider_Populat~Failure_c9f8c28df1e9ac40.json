{
  "bv": 10,
  "component": "ResourcesCacheProvider",
  "computedMetrics": null,
  "deleted": false,
  "description": null,
  "dimensions": null,
  "displayName": null,
  "enableClientEtwPublication": true,
  "enableClientSideForking": true,
  "enableClientSideLastSamplingMode": false,
  "enableClientSidePublication": true,
  "id": "PopulateResourceArmFailure",
  "isFromNewPipeline": false,
  "isQosMetric": false,
  "metrics": null,
  "monitors": [
    {
      "category": "Ingestion",
      "conditions": [
        [
          "ArmFailureReason",
          "429",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "Service",
          "*",
          ""
        ],
        [
          "IngestionSource",
          "FullSync",
          ""
        ],
        [
          "IsTenantCustomer",
          "True",
          ""
        ],
        [
          "ResourceType",
          "*",
          "microsoft.compute/images"
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityStarted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityStarted&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0Awhere%20activityName%20==%20\"PopulateResourceJob.TraceFailure\"\r%0Alet%20FailureReason%20=%20Regex.Match(properties,%20\"FailureReason=\\[([a-zA-Z0-9\\.]+)\\]\").Groups[1].Value\r%0Awhere%20FailureReason%20!=%20\"NotFound\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=false&aggregates=[\"Count%20by%20activityName\"]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\nwhere activityName == \"PopulateResourceJob.TraceFailure\"\r\nlet FailureReason = Regex.Match(properties, \"FailureReason=\\[([a-zA-Z0-9\\.]+)\\]\").Groups[1].Value\r\nwhere FailureReason != \"NotFound\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Arm get resources failures by type",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": [
                "Count by activityName"
              ]
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Monitor dedicated to throttling, failure 429 as it is excluded from generic monitor\n\n1- Monitor is checking on failures for a certain type of resources\n2- One resource provider could start failing.\n3- Upon failure to populate we monitor the resource type that failed\n4- This can happen when there is some contract changes or unavailability of the RP\n5- Resource can be filtered with hotconfig. \n6- Contact RP if they are not responsive. Look at Domain issue TSG",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "PopulateResourceArmFailure",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:30:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "01:00:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Arm Get resources throttling 429",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2019-04-16T01:31:58.9972278Z",
      "lookbackDuration": "02:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "lookbackType": "1.00:00:00",
        "metric": "Count"
      },
      "templateType": 4,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 2000.0
        }
      ],
      "version": 15
    },
    {
      "category": "Ingestion",
      "conditions": [
        [
          "ArmFailureReason",
          "429",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "Service",
          "*",
          ""
        ],
        [
          "IngestionSource",
          "FullSync",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [
            "ArmFailureReason",
            "IngestionSource"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "ARG Write Path",
            "Ingestion failures",
            "DomainIssues"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Domain issues",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityStarted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityStarted&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0Awhere%20activityName%20==%20\"PopulateResourceJob.TraceFailure\"\r%0Alet%20FailureReason%20=%20Regex.Match(properties,%20\"FailureReason=\\[([a-zA-Z0-9\\.]+)\\]\").Groups[1].Value\r%0Awhere%20FailureReason%20!=%20\"NotFound\"\r%0Awhere%20FailureReason%20!=%20\"InvalidVirtualMachineRequest\"\r%0Awhere%20FailureReason%20!=%20\"Filtered\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=true&aggregates=[\"Count%20by%20FailureReason\"]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\nwhere activityName == \"PopulateResourceJob.TraceFailure\"\r\nlet FailureReason = Regex.Match(properties, \"FailureReason=\\[([a-zA-Z0-9\\.]+)\\]\").Groups[1].Value\r\nwhere FailureReason != \"NotFound\"\r\nwhere FailureReason != \"InvalidVirtualMachineRequest\"\r\nwhere FailureReason != \"Filtered\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Populate Resource failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": true
            },
            {
              "key": "aggregates",
              "value": [
                "Count by FailureReason"
              ]
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "1- Monitor Individual failures types in ingestion and notification\n2- We can monitor if a new type of failure is suddenly appearing or if many resources start to hit the same failure.\n3- Failures can be happening in the Populate resource job, common to Partial and Ingestion.\n4- Failures could be happening from multiple reasons: Arm region could be failing, Resource provider is misbehaving, MetadataCache is not properly populated.\n5- Arm regions can be blacklisted using hot config, resources can be filtered using hot config, Metadata cache api version can be updated using hotconfig",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "PopulateResourceArmFailure",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:30:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "01:00:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Arm get resources Failures 429",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2019-06-07T21:44:48.3641458Z",
      "lookbackDuration": "02:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "lookbackType": "1.00:00:00",
        "metric": "Count"
      },
      "templateType": 4,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 2000.0
        }
      ],
      "version": 14
    },
    {
      "category": "Ingestion",
      "conditions": [
        [
          "ArmFailureReason",
          "*",
          "Filtered,NotFound,InvalidVirtualMachineRequest,429"
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "*",
          ""
        ],
        [
          "IngestionSource",
          "FullSync",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [
            "ArmFailureReason",
            "IngestionSource"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "ARG Write Path",
            "Ingestion failures",
            "DomainIssues"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Domain issues",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [
            "ArmFailureReason",
            "Environment",
            "Service",
            "IngestionSource"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "ARG Write Path",
            "WritePathLivesite",
            "Failures change in last 2h"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Failures change in last 2h",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "let InnerFailureReason = Regex.Match(properties, \"InnerFailureReason=\\[([^\\]]+)\\]\").Groups[1].Value\nlet resourceType = Regex.Match(properties, \"SlimResourceType=\\[([^\\]]+)\\]\").Groups[1].Value.ToLower()\nlet subscriptionId = Regex.Match(properties, \"ScopeId=\\[([^\\]]+)\\]\").Groups[1].Value \nwhere InnerFailureReason != \"InvalidVirtualMachineRequest\"\nwhere InnerFailureReason != \"Filtered\"\nlet ErrorResponseCode = Regex.Match(properties, \"ErrorResponseCode=\\[([^\\]]+)\\]\").Groups[1].Value",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted&serverQuery=where%20activityName%20==%20\"PopulateResourceJob.ExecuteInternalWithInputAsync\"\r%0Awhere%20it.any(\"InnerFailureReason\")&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=true&aggregates=[\"Count%20by%20ErrorResponseCode\",\"Count%20by%20InnerFailureReason\"]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=let%20InnerFailureReason%20=%20Regex.Match(properties,%20\"InnerFailureReason=\\[([^\\]]+)\\]\").Groups[1].Value%0Alet%20resourceType%20=%20Regex.Match(properties,%20\"SlimResourceType=\\[([^\\]]+)\\]\").Groups[1].Value.ToLower()%0Alet%20subscriptionId%20=%20Regex.Match(properties,%20\"ScopeId=\\[([^\\]]+)\\]\").Groups[1].Value%20%0Awhere%20InnerFailureReason%20!=%20\"InvalidVirtualMachineRequest\"%0Awhere%20InnerFailureReason%20!=%20\"Filtered\"%0Alet%20ErrorResponseCode%20=%20Regex.Match(properties,%20\"ErrorResponseCode=\\[([^\\]]+)\\]\").Groups[1].Value",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"PopulateResourceJob.ExecuteInternalWithInputAsync\"\r\nwhere it.any(\"InnerFailureReason\")",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Populate Resource failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": true
            },
            {
              "key": "aggregates",
              "value": [
                "Count by ErrorResponseCode",
                "Count by InnerFailureReason"
              ]
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "let FailureReason = Regex.Match(exception, \"FailureReason:\\[([a-zA-Z0-9\\.]+)\\]\").Groups[1].Value\nlet resourceType = Regex.Match(properties, \"SlimResourceType=\\[([^\\]]+)\\]\").Groups[1].Value.ToLower()\nlet subscriptionId = Regex.Match(properties, \"ScopeId=\\[([^\\]]+)\\]\").Groups[1].Value \nwhere exception == null || !exception.containsi(\"ArmNotFoundResponseException\")\nwhere FailureReason != \"InvalidVirtualMachineRequest\"\nwhere FailureReason != \"Filtered\"\ngroupby resourceType let count = count()\norderby count desc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20==%20\"PopulateResourceJob.ExecuteInternalWithInputAsync\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=true&aggregates=[\"Count%20by%20FailureReason\"]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=let%20FailureReason%20=%20Regex.Match(exception,%20\"FailureReason:\\[([a-zA-Z0-9\\.]+)\\]\").Groups[1].Value%0Alet%20resourceType%20=%20Regex.Match(properties,%20\"SlimResourceType=\\[([^\\]]+)\\]\").Groups[1].Value.ToLower()%0Alet%20subscriptionId%20=%20Regex.Match(properties,%20\"ScopeId=\\[([^\\]]+)\\]\").Groups[1].Value%20%0Awhere%20exception%20==%20null%20||%20!exception.containsi(\"ArmNotFoundResponseException\")%0Awhere%20FailureReason%20!=%20\"InvalidVirtualMachineRequest\"%0Awhere%20FailureReason%20!=%20\"Filtered\"%0Agroupby%20resourceType%20let%20count%20=%20count()%0Aorderby%20count%20desc",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"PopulateResourceJob.ExecuteInternalWithInputAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Populate Resource failures by resource type",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": true
            },
            {
              "key": "aggregates",
              "value": [
                "Count by FailureReason"
              ]
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "let FailureReason = Regex.Match(exception, \"FailureReason:\\[([a-zA-Z0-9\\.]+)\\]\").Groups[1].Value\nlet resourceType = Regex.Match(properties, \"SlimResourceType=\\[([^\\]]+)\\]\").Groups[1].Value.ToLower()\nlet subscriptionId = Regex.Match(properties, \"ScopeId=\\[([^\\]]+)\\]\").Groups[1].Value \nwhere exception == null || !exception.containsi(\"ArmNotFoundResponseException\")\nwhere FailureReason != \"InvalidVirtualMachineRequest\"\nwhere FailureReason != \"Filtered\"\ngroupby subscriptionId let count = count()\norderby count desc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20==%20\"PopulateResourceJob.ExecuteInternalWithInputAsync\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=true&aggregates=[\"Count%20by%20FailureReason\"]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=let%20FailureReason%20=%20Regex.Match(exception,%20\"FailureReason:\\[([a-zA-Z0-9\\.]+)\\]\").Groups[1].Value%0Alet%20resourceType%20=%20Regex.Match(properties,%20\"SlimResourceType=\\[([^\\]]+)\\]\").Groups[1].Value.ToLower()%0Alet%20subscriptionId%20=%20Regex.Match(properties,%20\"ScopeId=\\[([^\\]]+)\\]\").Groups[1].Value%20%0Awhere%20exception%20==%20null%20||%20!exception.containsi(\"ArmNotFoundResponseException\")%0Awhere%20FailureReason%20!=%20\"InvalidVirtualMachineRequest\"%0Awhere%20FailureReason%20!=%20\"Filtered\"%0Agroupby%20subscriptionId%20let%20count%20=%20count()%0Aorderby%20count%20desc",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"PopulateResourceJob.ExecuteInternalWithInputAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Populate Resource failures by subscription id",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": true
            },
            {
              "key": "aggregates",
              "value": [
                "Count by FailureReason"
              ]
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "1- Monitor Individual failures types in ingestion and notification\n2- We can monitor if a new type of failure is suddenly appearing or if many resources start to hit the same failure.\n3- Failures can be happening in the Populate resource job, common to Partial and Ingestion.\n4- Failures could be happening from multiple reasons: Arm region could be failing, Resource provider is misbehaving, MetadataCache is not properly populated.\n5- Arm regions can be blacklisted using hot config, resources can be filtered using hot config, Metadata cache api version can be updated using hotconfig",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "PopulateResourceArmFailure",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:30:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "01:00:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Arm get resources Failures",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "rchapas",
      "lastUpdateTime": "2020-04-21T00:25:58.1997001Z",
      "lookbackDuration": "04:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Global Prod Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "lookbackType": "1.00:00:00",
        "metric": "Count"
      },
      "templateType": 4,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 5000.0
        }
      ],
      "version": 19
    },
    {
      "category": "Ingestion",
      "conditions": [
        [
          "ArmFailureReason",
          "*",
          "NotFound,InvalidVirtualMachineRequest,Filtered,429"
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "Service",
          "*",
          ""
        ],
        [
          "IngestionSource",
          "FullSync",
          ""
        ],
        [
          "IsTenantCustomer",
          "True",
          ""
        ],
        [
          "ResourceType",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityStarted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityStarted&serverQuery=where%20service%20==%20\"IngestionWorkerService\"\r%0A\r%0Awhere%20activityName%20==%20\"PopulateResourceJob.TraceFailure\"\r%0A\r%0Alet%20FailureReason%20=%20Regex.Match(properties,%20\"FailureReason=\\[([^\\]]+)\\]\").Groups[1].Value\r%0Alet%20ResourceType%20=%20Regex.Match(properties,%20\"SlimResourceType=\\[([^\\]]+)\\]\").Groups[1].Value\r%0Alet%20ScopeId%20=%20Regex.Match(properties,%20\"ScopeId=\\[([^\\]]+)\\]\").Groups[1].Value\r%0A\r%0Awhere%20FailureReason%20!=%20\"NotFound\"\r%0Awhere%20FailureReason%20!=%20\"Filtered\"\r%0Awhere%20FailureReason%20!=%20\"InvalidVirtualMachineRequest\"\r%0Awhere%20FailureReason%20!=%20\"NoRegisteredProviderFound\"\r%0A\r%0Awhere%20properties.contains(\"IsInternalTenantCustomer=[True]\")\r%0A\r%0A&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=true&aggregates=[\"Count%20by%20ScopeId\",\"Count%20by%20ResourceType\",\"Count%20by%20FailureReason\"]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"IngestionWorkerService\"\r\n\r\nwhere activityName == \"PopulateResourceJob.TraceFailure\"\r\n\r\nlet FailureReason = Regex.Match(properties, \"FailureReason=\\[([^\\]]+)\\]\").Groups[1].Value\r\nlet ResourceType = Regex.Match(properties, \"SlimResourceType=\\[([^\\]]+)\\]\").Groups[1].Value\r\nlet ScopeId = Regex.Match(properties, \"ScopeId=\\[([^\\]]+)\\]\").Groups[1].Value\r\n\r\nwhere FailureReason != \"NotFound\"\r\nwhere FailureReason != \"Filtered\"\r\nwhere FailureReason != \"InvalidVirtualMachineRequest\"\r\nwhere FailureReason != \"NoRegisteredProviderFound\"\r\n\r\nwhere properties.contains(\"IsInternalTenantCustomer=[True]\")\r\n\r\n",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Arm get resources failures by type",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": true
            },
            {
              "key": "aggregates",
              "value": [
                "Count by ScopeId",
                "Count by ResourceType",
                "Count by FailureReason"
              ]
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "1- Monitor is checking on failures for a certain type of resources\n2- One resource provider could start failing.\n3- Upon failure to populate we monitor the resource type that failed\n4- This can happen when there is some contract changes or unavailability of the RP\n5- Resource can be filtered with hotconfig. \n6- Contact RP if they are not responsive. Look at Domain issue TSG",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "PopulateResourceArmFailure",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:30:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "01:00:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Arm Get resources Failure by Type",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "momihail",
      "lastUpdateTime": "2020-07-23T19:31:50.9272873Z",
      "lookbackDuration": "06:00:00",
      "metadata": [
        {
          "metadataKey": "Icm.TsgId",
          "metadataValue": "https://microsoft.sharepoint.com/teams/GovernanceVteam/_layouts/OneNote.aspx?id=%2Fteams%2FGovernanceVteam%2FSiteAssets%2FGovernance%20Vteam%20Notebook&wd=target%28ARG%2FLivesite.one%7C0D4CF9B6-4A2C-40E4-92FE-742E1448468D%2FArm%20get%20resources%20Failures%20429%7C4E926BA5-AE5D-48F5-86D8-D75759ED743A%2F%29 onenote:https://microsoft.sharepoint.com/teams/GovernanceVteam/SiteAssets/Governance%20Vteam%20Notebook/ARG/Livesite.one#Arm%20get%20resources%20Failures%20429&section-id={0D4CF9B6-4A2C-40E4-92FE-742E1448468D}&page-id={4E926BA5-AE5D-48F5-86D8-D75759ED743A}&end"
        }
      ],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Global Prod Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "lookbackType": "1.00:00:00",
        "metric": "Count"
      },
      "templateType": 4,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 2000.0
        }
      ],
      "version": 23
    }
  ],
  "pendingMetricsOrderingFix": false,
  "preferQueryMetricsStore": null,
  "replicationState": 0,
  "tenant": "AzureResourcesTopology",
  "treatMissingSeriesAsZeros": false,
  "version": 0,
  "views": null
}