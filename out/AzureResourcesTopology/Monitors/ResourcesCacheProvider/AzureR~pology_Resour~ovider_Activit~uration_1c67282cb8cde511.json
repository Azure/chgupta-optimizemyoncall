{
  "bv": 10,
  "component": "ResourcesCacheProvider",
  "computedMetrics": null,
  "deleted": false,
  "description": null,
  "dimensions": null,
  "displayName": null,
  "enableClientEtwPublication": true,
  "enableClientSideForking": true,
  "enableClientSideLastSamplingMode": false,
  "enableClientSidePublication": true,
  "id": "ActivityDuration",
  "isFromNewPipeline": false,
  "isQosMetric": false,
  "metrics": null,
  "monitors": [
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "GroomRoleAssignmentFullSyncTableTimerTask.DoWorkAsync,GroomRoleAssignmentFullSyncBlobTimerTask.DoWorkAsync,GroomRoleAssignmentAggregatedDataTimerTask.DoWorkAsync,GroomRoleAssignmentPrefixAggregatedTimerTask.DoWorkAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "Service",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-150&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0Awhere%20activityName%20==%20\"{Monitor.Dimension.ActivityName}\"&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "02:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\nwhere activityName == \"{Monitor.Dimension.ActivityName}\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Rbac grooming duration",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "If duration of rbac grooming duration goes up significantly we may need clean up manually.",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "If duration of rbac grooming duration goes up significantly we may need clean up manually.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Rbac grooming duration",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "johncall",
      "lastUpdateTime": "2019-04-10T19:27:10.1502641Z",
      "lookbackDuration": "02:30:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "failingBucketTemplate": {
          "bucketComparator": ">",
          "bucketDurationInMinutes": 5,
          "bucketTemplate": {
            "percentageTemplate": {
              "denominator": [],
              "evaluatePureFraction": true,
              "multiplier": 1.0,
              "numerator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 2,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "Max",
                    "useTotalAggregate": false
                  }
                }
              ]
            },
            "templateType": 6,
            "valueOnDivideByZero": 0,
            "valueOnNull": 0
          },
          "bucketTemplateType": 6,
          "bucketThreshold": 100000.0
        },
        "skipOnNoData": true,
        "templateType": 7,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 7,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 1.0
        }
      ],
      "version": 22
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "AggregateRbacDataTimerTask.AggregateRbacDataAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "Service",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [
            "Environment"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "RbacV3",
            "Aggregation"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Rbac Aggregation",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-2&offsetUnit=Hours&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0Awhere%20activityName%20==%20\"{Monitor.Dimension.ActivityName}\"&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "02:00:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\nwhere activityName == \"{Monitor.Dimension.ActivityName}\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Rbac aggregation duration",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "If duration of rbac aggregation goes up we may need to disable querying in this region to ensure we have up to rbac syncs or extend the rbac grooming period in query so we retain more data.",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "If duration of rbac aggregation goes up we may need to disable querying in this region to ensure we have up to rbac syncs or extend the rbac grooming period in query so we retain more data.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Rbac aggregation duration sev3",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": true,
      "isThrottled": false,
      "lastUpdatedBy": "utsriva",
      "lastUpdateTime": "2020-06-09T11:06:21.1567429Z",
      "lookbackDuration": "00:20:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "failingBucketTemplate": {
          "bucketComparator": ">",
          "bucketDurationInMinutes": 5,
          "bucketTemplate": {
            "percentageTemplate": {
              "denominator": [],
              "evaluatePureFraction": true,
              "multiplier": 1.0,
              "numerator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 2,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "Max",
                    "useTotalAggregate": false
                  }
                }
              ]
            },
            "templateType": 6,
            "valueOnDivideByZero": 0,
            "valueOnNull": 0
          },
          "bucketTemplateType": 6,
          "bucketThreshold": 1800000.0
        },
        "skipOnNoData": true,
        "templateType": 7,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 7,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 0.0
        }
      ],
      "version": 28
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ResourceChangesController.ResourceChangeDetailsAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ],
        [
          "IsPhantomQuery",
          "false",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "Key Activity Failures"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Activity Failure",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt3art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-5&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20==%20\"ResourceChangesController.ResourceChangeDetailsAsync\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt3art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:05:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"ResourceChangesController.ResourceChangeDetailsAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "ResourceChanges",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "ResourceChangeDetails Success Rate",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "anatolib",
      "lastUpdateTime": "2019-04-24T06:20:46.5438551Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "jsSnippet": "JsFileRef:Azure~ology_Resou~vider_Acti~tion_Resou~ Rate_eed461f6542d1b43.js"
      },
      "templateType": 1,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 0.0
        }
      ],
      "version": 7
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "AggregateRbacDataTimerTask.DoWorkAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "IsActivityFailed",
          "True",
          ""
        ],
        [
          "Service",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": "let ExceptionType = Regex.Match(exception, \"^([a-zA-Z\\.]+Exception):\").Groups[1].Value",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-40&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0Awhere%20activityName%20==%20\"{Monitor.Dimension.ActivityName}\"&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=true&aggregates=[\"Count%20by%20ArmEndpoint\",\"Count%20by%20ExceptionType\"]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=let%20ExceptionType%20=%20Regex.Match(exception,%20\"^([a-zA-Z\\.]+Exception):\").Groups[1].Value",
          "lookback": "00:40:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\nwhere activityName == \"{Monitor.Dimension.ActivityName}\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Rbac aggregation failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": true
            },
            {
              "key": "aggregates",
              "value": [
                "Count by ArmEndpoint",
                "Count by ExceptionType"
              ]
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "If the failure rate of rbac aggregation goes up something is wrong with one of the regions storage accounts, we may need to extend the grooming of rbac data from query nodes or move query load off this region.",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "If the failure rate of rbac aggregation goes up something is wrong with one of the regions storage accounts, we may need to extend the grooming of rbac data from query nodes or move query load off this region.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Rbac aggregation failure rate ",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": true,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "makharch",
      "lastUpdateTime": "2020-04-03T16:06:15.9577132Z",
      "lookbackDuration": "00:40:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "metric": "Count"
      },
      "templateType": 2,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 2.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 5.0
        }
      ],
      "version": 25
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "BlockDataUploadUtilities.UploadItemsToBlobAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "True",
          ""
        ],
        [
          "Service",
          "IngestionWorkerService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-5&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&conditions=[[\"service\",\"==\",\"{Monitor.Dimension.Service}\"],[\"activityName\",\"==\",\"BlockDataUploadUtilities.UploadItemsToBlobAsync\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:05:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(service.EqualsI(\"{Monitor.Dimension.Service}\")) and (activityName.EqualsI(\"BlockDataUploadUtilities.UploadItemsToBlobAsync\"))",
          "serverQuerySimpleConditions": [
            {
              "comparand": "service",
              "operator": "==",
              "values": "{Monitor.Dimension.Service}"
            },
            {
              "comparand": "activityName",
              "operator": "==",
              "values": "BlockDataUploadUtilities.UploadItemsToBlobAsync"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Latest failed activities",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "blob update success rate is low ",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Blob Update Success Rate Low V2",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-05-16T04:12:46.2124358Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ],
          "evaluatePureFraction": true,
          "multiplier": 1.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "False",
                    ""
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": false,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": "<",
          "healthStatus": 2,
          "severity": 3,
          "value": 0.5
        }
      ],
      "version": 19
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "KustoIngestor.IngestFromSingleBlobAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "True",
          ""
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ],
        [
          "ScaleUnit",
          "ARG",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "orderby PreciseTimeStamp asc\r\nlet KustoClusterUrl = Regex.Match(properties,\"KustoClusterUrl=\\[(.*?)\\]\").groups[1].value\r\n",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art",
              "nt4art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-5&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&conditions=[[\"activityName\",\"contains\",\"KustoIngestor.IngestFromSingleBlobAsync\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art,nt4art\"]]&aggregatesVisible=true&aggregates=[\"Count%20by%20KustoClusterUrl\"]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20PreciseTimeStamp%20asc\r%0Alet%20KustoClusterUrl%20=%20Regex.Match(properties,\"KustoClusterUrl=\\[(.*?)\\]\").groups[1].value\r%0A",
          "lookback": "00:05:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "activityName.ContainsI(\"KustoIngestor.IngestFromSingleBlobAsync\")",
          "serverQuerySimpleConditions": [
            {
              "comparand": "activityName",
              "operator": "contains",
              "values": "KustoIngestor.IngestFromSingleBlobAsync"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Failed KustoIngestor.IngestFromSingleBlobAsync activities",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": true
            },
            {
              "key": "aggregates",
              "value": [
                "Count by KustoClusterUrl"
              ]
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Looks at the success rate of notifications being ingested to Kusto",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Kusto Ingestion Success Rate Low PS",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2020-06-24T01:38:09.6720209Z",
      "lookbackDuration": "00:15:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scale Unit Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "ScaleUnit",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ],
          "evaluatePureFraction": true,
          "multiplier": 1.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "true",
                    ""
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "ScaleUnit",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": false,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 0.1
        }
      ],
      "version": 16
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "AutoRenewVisibilityQueue.VisibilityRenew.UnexpectedError",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "IsActivityFailed",
          "True",
          ""
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ],
        [
          "ScaleUnit",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt4art",
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20==%20\"{Monitor.Dimension.ActivityName}\"&scopingConditions=[[\"Role\",\"nt4art,nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"{Monitor.Dimension.ActivityName}\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Queue Lease Renew Failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "This monitor fires when the auto renew queue message lease has an unexpected failure. See logs to investigate.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Queue Lease Renew Failed PS",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-05-17T23:19:13.715621Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scale Unit Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "metric": "Count"
      },
      "templateType": 2,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 200.0
        }
      ],
      "version": 12
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "TenantRegistrationCosmosClient.ListUpdatedTenantRegistrationInfoAsync,RegistrationCosmosClient.ListRegistrationsInfoFromCache",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "false",
          ""
        ],
        [
          "ParentActivityName",
          "*",
          ""
        ],
        [
          "Service",
          "ResourcesSyncScheduler",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20service%20==%20\"ResourcesSyncScheduler\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"ResourcesSyncScheduler\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Scheduler Failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Scheduler is not refreshing his caches. If this happens after deployment, then it's not working at all. Service needs to be restarted.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "03:00:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "1.03:00:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "SchedulerCacheNotInit",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2020-06-25T16:09:10.9725189Z",
      "lookbackDuration": "03:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scenario Health Per Environment",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "metric": "Count"
      },
      "templateType": 2,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": "<",
          "healthStatus": 1,
          "severity": 3,
          "value": 1.0
        }
      ],
      "version": 8
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "RbacProvider.GetTenantScopedPermissionTreeAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "false",
          ""
        ],
        [
          "NodeNumber",
          "*",
          ""
        ],
        [
          "NodeType",
          "nt3art",
          ""
        ],
        [
          "ParentActivityName",
          "*",
          ""
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ],
        [
          "Tenant",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "where durationMilliseconds > 100",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt3art"
            ],
            "Tenant": [
              "{Monitor.Dimension.Tenant}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20activityName%20==%20\"RbacProvider.GetTenantScopedPermissionTreeAsync\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt3art\"],[\"Tenant\",\"{Monitor.Dimension.Tenant}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=where%20durationMilliseconds%20>%20100",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"RbacProvider.GetTenantScopedPermissionTreeAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "slow node logs",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Usually average time should not be higher than 100-200ms. The node might be running out of memory or GC pauses are causing the issue, either way we need to investigate this. The possible mitigations would be, restarting the process or scale out\\up.\nNote: This can be slow on startup (usually after the deployment).",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "00:27:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "SlowTenantRbacPermissionRetrieval",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2020-06-25T15:29:15.9176541Z",
      "lookbackDuration": "00:09:00",
      "metadata": [
        {
          "metadataKey": "Icm.TsgId",
          "metadataValue": "https://microsoft.sharepoint.com/teams/GovernanceVteam/_layouts/OneNote.aspx?id=%2Fteams%2FGovernanceVteam%2FSiteAssets%2FGovernance%20Vteam%20Notebook&wd=target%28ARG%2FLivesite.one%7C0D4CF9B6-4A2C-40E4-92FE-742E1448468D%2FSlowRbacPermissionRetrieval%7C097D6669-BB4F-4843-8916-CA7D8E05CAF2%2F%29 onenote:https://microsoft.sharepoint.com/teams/GovernanceVteam/SiteAssets/Governance%20Vteam%20Notebook/ARG/Livesite.one#SlowRbacPermissionRetrieval&section-id={0D4CF9B6-4A2C-40E4-92FE-742E1448468D}&page-id={097D6669-BB4F-4843-8916-CA7D8E05CAF2}&end"
        }
      ],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scenario Health Per Environment",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "correlatedFailingBucketTemplate": {
          "alertRules": [
            {
              "bucketsAnalyzed": 3,
              "failingBuckets": 2,
              "healthStatus": 2,
              "metadata": [],
              "severity": 4,
              "thresholds": [
                {
                  "comparator": ">",
                  "label": "Average",
                  "thresholdValue": 300.0
                }
              ]
            },
            {
              "bucketsAnalyzed": 3,
              "failingBuckets": 2,
              "healthStatus": 1,
              "metadata": [],
              "severity": 4,
              "thresholds": [
                {
                  "comparator": ">",
                  "label": "Average",
                  "thresholdValue": 1400.0
                }
              ]
            }
          ],
          "bucketSizeInMinutes": 3,
          "expressions": [
            {
              "label": "Average",
              "percentageTemplate": {
                "denominator": [
                  {
                    "dataSourceType": 0,
                    "fetchMetrics": {
                      "aggregateType": 0,
                      "conditions": [],
                      "dataSourceType": 0,
                      "endTimeShift": "00:00:00",
                      "isNegative": false,
                      "lookbackDuration": "00:00:00",
                      "metric": "ActivityDuration",
                      "metricsSourceAggregateType": 0,
                      "monitoringAccount": "AzureResourcesTopology",
                      "namespace": "ResourcesCacheProvider",
                      "samplingType": "Count",
                      "useTotalAggregate": false
                    }
                  }
                ],
                "evaluatePureFraction": true,
                "multiplier": 1.0,
                "numerator": [
                  {
                    "dataSourceType": 0,
                    "fetchMetrics": {
                      "aggregateType": 0,
                      "conditions": [],
                      "dataSourceType": 0,
                      "endTimeShift": "00:00:00",
                      "isNegative": false,
                      "lookbackDuration": "00:00:00",
                      "metric": "ActivityDuration",
                      "metricsSourceAggregateType": 0,
                      "monitoringAccount": "AzureResourcesTopology",
                      "namespace": "ResourcesCacheProvider",
                      "samplingType": "Sum",
                      "useTotalAggregate": false
                    }
                  }
                ]
              },
              "templateType": 6,
              "valueOnDivideByZero": 0,
              "valueOnNull": 0
            }
          ]
        },
        "divideByZeroNotFailure": false,
        "skipOnNoData": false,
        "templateType": 11,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 11,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 3,
          "value": 400.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 1500.0
        }
      ],
      "version": 18
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "KustoIngestor.IngestFromSingleBlobAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "True",
          ""
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ],
        [
          "ScaleUnit",
          "*",
          "ARG"
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "orderby PreciseTimeStamp asc\r\nlet KustoClusterUrl = Regex.Match(properties,\"KustoClusterUrl=\\[(.*?)\\]\").groups[1].value\r\n",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art",
              "nt4art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-5&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&conditions=[[\"activityName\",\"contains\",\"KustoIngestor.IngestFromSingleBlobAsync\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art,nt4art\"]]&aggregatesVisible=true&aggregates=[\"Count%20by%20KustoClusterUrl\"]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20PreciseTimeStamp%20asc\r%0Alet%20KustoClusterUrl%20=%20Regex.Match(properties,\"KustoClusterUrl=\\[(.*?)\\]\").groups[1].value\r%0A",
          "lookback": "00:05:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "activityName.ContainsI(\"KustoIngestor.IngestFromSingleBlobAsync\")",
          "serverQuerySimpleConditions": [
            {
              "comparand": "activityName",
              "operator": "contains",
              "values": "KustoIngestor.IngestFromSingleBlobAsync"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Failed KustoIngestor.IngestFromSingleBlobAsync activities",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": true
            },
            {
              "key": "aggregates",
              "value": [
                "Count by KustoClusterUrl"
              ]
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Looks at the success rate of notifications being ingested to Kusto for Scale Units",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "SU Kusto Ingestion Success Rate Low PS",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": true,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2020-06-24T01:43:59.4425856Z",
      "lookbackDuration": "00:15:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scale Unit Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "ScaleUnit",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ],
          "evaluatePureFraction": true,
          "multiplier": 1.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "true",
                    ""
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "ScaleUnit",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": false,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 0.1
        }
      ],
      "version": 15
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "QueueLeaseAwareJob.ExecuteInternalAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ],
        [
          "ScaleUnit",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "orderby durationMilliseconds desc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20service%20==%20\"PartialSyncIngestionService\"\r%0Awhere%20activityName%20==%20\"QueueLeaseAwareJob.ExecuteInternalAsync\"\r%0Awhere%20durationMilliseconds%20>%205000&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20durationMilliseconds%20desc",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"PartialSyncIngestionService\"\r\nwhere activityName == \"QueueLeaseAwareJob.ExecuteInternalAsync\"\r\nwhere durationMilliseconds > 5000",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "PartialSync QueueLeaseAwareJob duration",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Duration of QueueLeaseAwareJobExecuteInternalAsync for PartialSyncIngestionService\n\nTSG link: https://microsoft.sharepoint.com/teams/GovernanceVteam/_layouts/15/WopiFrame.aspx?sourcedoc={f28a35ec-2443-4f8d-8f2d-7b718d8f6394}&action=edit&wd=target%28Livesite.one%7C0d4cf9b6-4a2c-40e4-92fe-742e1448468d%2FQueueLeaseAwareJobExecuteInternalAsync%7Cdb266b76-28b8-41c2-bb41-c2e0f3e976e4%2F%29&wdorigin=703",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "QueueLeaseAwareJobExecuteInternalAsync",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-05-15T03:26:32.1313528Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scale Unit Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "denominator": "Count",
        "numerator": "Sum"
      },
      "templateType": 3,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 12000.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 30000.0
        }
      ],
      "version": 22
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "UpdateRoleAssignmentCacheJob.ExecuteInternalWithInputAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "IsActivityFailed",
          "False",
          ""
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ]
      ],
      "customLinks": [],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "We expect to have some role assignments notifications continously. It's coupled with the partial service so if notifications overall are unhealthy, fix that first.\n\nWhat to do:\n0. Check if partial sync overall is healthy.\n1. Check if RAs are not filtered out as not a tracked type.\n2. Check if we actually received any from ARM (type Microsoft.Authorization/roleAssignments)",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:15:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:30:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "PasRoleAssignmentsNotificationsAbnormalCount",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "makharch",
      "lastUpdateTime": "2019-12-11T23:08:32.5986323Z",
      "lookbackDuration": "00:20:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "metric": "Count"
      },
      "templateType": 2,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": "<",
          "healthStatus": 1,
          "severity": 3,
          "value": 500.0
        }
      ],
      "version": 9
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ArmResourceClient.ListProxyResourcesAsync,ArmResourceClient.ListResourcesAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "ParentActivityName",
          "ListResourcesJob.ListResourcesAsync",
          ""
        ],
        [
          "Service",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Role": [
              "nt0art"
            ],
            "Tenant": [
              "gov-art-eus-rp-a",
              "gov-art-eus-rp-b"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted&serverQuery=where%20activityName%20==%20\"ArmResourceClient.ListResourcesAsync\"\r%0Awhere%20parentActivityName%20==%20\"ListSubscriptionResourcesHandler.ExecuteInternalAsync\"&scopingConditions=[[\"Role\",\"nt0art\"],[\"Tenant\",\"gov-art-eus-rp-a,gov-art-eus-rp-b\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"ArmResourceClient.ListResourcesAsync\"\r\nwhere parentActivityName == \"ListSubscriptionResourcesHandler.ExecuteInternalAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "List resources call",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "This monitors List call duration, if it goes up too much it means either ARM having issues which we should be able to recover from it by Blacklisting the regions or it is a problem with our service which would need investigations. If the time goes down a lot it is probably a bug on our end and it needs investigations.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:10:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:20:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "ARM list resource duration",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "oltkache",
      "lastUpdateTime": "2020-04-10T19:52:20.4123685Z",
      "lookbackDuration": "00:20:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "denominator": "Count",
        "numerator": "Average"
      },
      "templateType": 3,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 2000.0
        }
      ],
      "version": 15
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ArmClientBase.CallArmWithoutRetryAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ],
        [
          "ScaleUnit",
          "ARG",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "ARG Write Path",
            "Ingestion"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Ingestion Dashboard",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [
            "ActivityName",
            "Environment",
            "Service"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "ARG Write Path",
            "Notifications"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Notifications Dashboard",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "let resourceType = Regex.Match(properties, \"SlimResourceType=\\[([^\\]]+)\\]\").Groups[1].Value \r\nlet armEndpoint = Regex.Match(properties, \"ArmEndpoint=\\[([^\\]]+)\\]\").Groups[1].Value \r\nlet subscriptionId = Regex.Match(properties, \"ScopeId=\\[([^\\]]+)\\]\").Groups[1].Value \r\norderby durationMilliseconds desc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art",
              "nt4art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-20&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&conditions=[[\"activityName\",\"==\",\"ArmClientBase.CallArmWithoutRetryAsync\"],[\"service\",\"==\",\"{Monitor.Dimension.Service}\"],[\"durationMilliseconds\",\">=\",\"1500\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art,nt4art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=let%20resourceType%20=%20Regex.Match(properties,%20\"SlimResourceType=\\[([^\\]]+)\\]\").Groups[1].Value%20\r%0Alet%20armEndpoint%20=%20Regex.Match(properties,%20\"ArmEndpoint=\\[([^\\]]+)\\]\").Groups[1].Value%20\r%0Alet%20subscriptionId%20=%20Regex.Match(properties,%20\"ScopeId=\\[([^\\]]+)\\]\").Groups[1].Value%20\r%0Aorderby%20durationMilliseconds%20desc",
          "lookback": "00:20:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(activityName.EqualsI(\"ArmClientBase.CallArmWithoutRetryAsync\")) and (service.EqualsI(\"{Monitor.Dimension.Service}\")) and (durationMilliseconds >= 1500)",
          "serverQuerySimpleConditions": [
            {
              "comparand": "activityName",
              "operator": "==",
              "values": "ArmClientBase.CallArmWithoutRetryAsync"
            },
            {
              "comparand": "service",
              "operator": "==",
              "values": "{Monitor.Dimension.Service}"
            },
            {
              "comparand": "durationMilliseconds",
              "operator": ">=",
              "values": "1500"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Slow ARM calls",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": "let resourceType = Regex.Match(properties, \"SlimResourceType=\\[([^\\]]+)\\]\").Groups[1].Value.ToLower()\r\nlet armEndpoint = Regex.Match(properties, \"ArmEndpoint=\\[([^\\]]+)\\]\").Groups[1].Value \r\nlet subscriptionId = Regex.Match(properties, \"ScopeId=\\[([^\\]]+)\\]\").Groups[1].Value \r\ngroupby resourceType let count = count() let avgDuration = Int32(average(durationMilliseconds))\r\norderby count desc\r\n",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art",
              "nt4art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-20&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&conditions=[[\"activityName\",\"==\",\"ArmClientBase.CallArmWithoutRetryAsync\"],[\"service\",\"==\",\"{Monitor.Dimension.Service}\"],[\"durationMilliseconds\",\">=\",\"1500\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art,nt4art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=let%20resourceType%20=%20Regex.Match(properties,%20\"SlimResourceType=\\[([^\\]]+)\\]\").Groups[1].Value.ToLower()\r%0Alet%20armEndpoint%20=%20Regex.Match(properties,%20\"ArmEndpoint=\\[([^\\]]+)\\]\").Groups[1].Value%20\r%0Alet%20subscriptionId%20=%20Regex.Match(properties,%20\"ScopeId=\\[([^\\]]+)\\]\").Groups[1].Value%20\r%0Agroupby%20resourceType%20let%20count%20=%20count()%20let%20avgDuration%20=%20Int32(average(durationMilliseconds))\r%0Aorderby%20count%20desc\r%0A",
          "lookback": "00:20:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(activityName.EqualsI(\"ArmClientBase.CallArmWithoutRetryAsync\")) and (service.EqualsI(\"{Monitor.Dimension.Service}\")) and (durationMilliseconds >= 1500)",
          "serverQuerySimpleConditions": [
            {
              "comparand": "activityName",
              "operator": "==",
              "values": "ArmClientBase.CallArmWithoutRetryAsync"
            },
            {
              "comparand": "service",
              "operator": "==",
              "values": "{Monitor.Dimension.Service}"
            },
            {
              "comparand": "durationMilliseconds",
              "operator": ">=",
              "values": "1500"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Slow ARM calls by resource type",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": "let resourceType = Regex.Match(properties, \"SlimResourceType=\\[([^\\]]+)\\]\").Groups[1].Value.ToLower()\r\nlet armEndpoint = Regex.Match(properties, \"ArmEndpoint=\\[([^\\]]+)\\]\").Groups[1].Value \r\nlet subscriptionId = Regex.Match(properties, \"ScopeId=\\[([^\\]]+)\\]\").Groups[1].Value \r\ngroupby armEndpoint let count = count() let avgDuration = Int32(average(durationMilliseconds))\r\norderby count desc\r\n",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art",
              "nt4art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-20&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&conditions=[[\"activityName\",\"==\",\"ArmClientBase.CallArmWithoutRetryAsync\"],[\"service\",\"==\",\"{Monitor.Dimension.Service}\"],[\"durationMilliseconds\",\">=\",\"1500\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art,nt4art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=let%20resourceType%20=%20Regex.Match(properties,%20\"SlimResourceType=\\[([^\\]]+)\\]\").Groups[1].Value.ToLower()\r%0Alet%20armEndpoint%20=%20Regex.Match(properties,%20\"ArmEndpoint=\\[([^\\]]+)\\]\").Groups[1].Value%20\r%0Alet%20subscriptionId%20=%20Regex.Match(properties,%20\"ScopeId=\\[([^\\]]+)\\]\").Groups[1].Value%20\r%0Agroupby%20armEndpoint%20let%20count%20=%20count()%20let%20avgDuration%20=%20Int32(average(durationMilliseconds))\r%0Aorderby%20count%20desc\r%0A",
          "lookback": "00:20:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(activityName.EqualsI(\"ArmClientBase.CallArmWithoutRetryAsync\")) and (service.EqualsI(\"{Monitor.Dimension.Service}\")) and (durationMilliseconds >= 1500)",
          "serverQuerySimpleConditions": [
            {
              "comparand": "activityName",
              "operator": "==",
              "values": "ArmClientBase.CallArmWithoutRetryAsync"
            },
            {
              "comparand": "service",
              "operator": "==",
              "values": "{Monitor.Dimension.Service}"
            },
            {
              "comparand": "durationMilliseconds",
              "operator": ">=",
              "values": "1500"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Slow ARM calls by ARM endpoint",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": "let resourceType = Regex.Match(properties, \"SlimResourceType=\\[([^\\]]+)\\]\").Groups[1].Value.ToLower()\r\nlet armEndpoint = Regex.Match(properties, \"ArmEndpoint=\\[([^\\]]+)\\]\").Groups[1].Value \r\nlet subscriptionId = Regex.Match(properties, \"ScopeId=\\[([^\\]]+)\\]\").Groups[1].Value \r\ngroupby subscriptionId let count = count() let avgDuration = Int32(average(durationMilliseconds))\r\norderby count desc\r\n",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art",
              "nt4art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-20&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&conditions=[[\"activityName\",\"==\",\"ArmClientBase.CallArmWithoutRetryAsync\"],[\"service\",\"==\",\"{Monitor.Dimension.Service}\"],[\"durationMilliseconds\",\">=\",\"1500\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art,nt4art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=let%20resourceType%20=%20Regex.Match(properties,%20\"SlimResourceType=\\[([^\\]]+)\\]\").Groups[1].Value.ToLower()\r%0Alet%20armEndpoint%20=%20Regex.Match(properties,%20\"ArmEndpoint=\\[([^\\]]+)\\]\").Groups[1].Value%20\r%0Alet%20subscriptionId%20=%20Regex.Match(properties,%20\"ScopeId=\\[([^\\]]+)\\]\").Groups[1].Value%20\r%0Agroupby%20subscriptionId%20let%20count%20=%20count()%20let%20avgDuration%20=%20Int32(average(durationMilliseconds))\r%0Aorderby%20count%20desc\r%0A",
          "lookback": "00:20:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(activityName.EqualsI(\"ArmClientBase.CallArmWithoutRetryAsync\")) and (service.EqualsI(\"{Monitor.Dimension.Service}\")) and (durationMilliseconds >= 1500)",
          "serverQuerySimpleConditions": [
            {
              "comparand": "activityName",
              "operator": "==",
              "values": "ArmClientBase.CallArmWithoutRetryAsync"
            },
            {
              "comparand": "service",
              "operator": "==",
              "values": "{Monitor.Dimension.Service}"
            },
            {
              "comparand": "durationMilliseconds",
              "operator": ">=",
              "values": "1500"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Slow ARM calls by subscription id",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "1- Monitor duration of ARM calls for individual services\n2- We need to make sure ARM calls duration are stable in our product, A slow down of arm calls can impact our overall service quality.\n3- We are monitoring the low level calls to arm which contains List calls, Get calls, and calls to get manifest information.\n4- Arm region/nodes could be having trouble to return in a timely manner\n5- The number of region where we send calls can be increased, we can also blacklist region with hot config controller (see livesite controller queries)\n6- The issue can also be on our side if we don't have enough thread or CPU to process responses from ARM\n",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:10:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:20:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "ARMCalls duration ",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-05-16T02:38:39.0710414Z",
      "lookbackDuration": "00:15:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scale Unit Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "denominator": "Count",
        "lookbackType": "01:00:00",
        "numerator": "Sum"
      },
      "templateType": 5,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 3.0
        }
      ],
      "version": 32
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ManagementGroupUtils.IsValidTree",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "IsActivityFailed",
          "true",
          ""
        ],
        [
          "Service",
          "IngestionWorkerService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20==%20\"ManagementGroupUtils.IsValidTree\"&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"ManagementGroupUtils.IsValidTree\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "FailedIsValidTree",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Full sync management groups are syncing faulty payload. ",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "00:45:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "RbacManagementGroupTreeIsNotValid",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "makharch",
      "lastUpdateTime": "2020-07-02T23:18:21.7584955Z",
      "lookbackDuration": "00:15:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "metric": "Count"
      },
      "templateType": 2,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 3,
          "value": 0.0
        }
      ],
      "version": 3
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "FilteredRoleAssignmentCacheDataAccess.GetRoleAssignmentsFromStorageCacheAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "IsActivityFailed",
          "false",
          ""
        ],
        [
          "NodeNumber",
          "*",
          ""
        ],
        [
          "NodeType",
          "nt3art",
          ""
        ],
        [
          "ParentActivityName",
          "AuthorizationDataProvider.FetchRoleAssignmentsAsync",
          ""
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ],
        [
          "Tenant",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt3art"
            ],
            "Tenant": [
              "{Monitor.Dimension.Tenant}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20activityName%20==%20\"{Monitor.Dimension.ActivityName}\"\r%0A\r%0Awhere%20parentActivityName%20==%20\"{Monitor.Dimension.ParentActivityName}\"&scopingConditions=[[\"Role\",\"nt3art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Tenant\",\"{Monitor.Dimension.Tenant}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"{Monitor.Dimension.ActivityName}\"\r\n\r\nwhere parentActivityName == \"{Monitor.Dimension.ParentActivityName}\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Affected node logs",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "The node might be running out of memory or GC pauses are causing the issue, either way we need to investigate this. The possible mitigations would be restarting the process or scale out\\up",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "00:27:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "SlowRAFetchFromDisk",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2020-06-25T15:28:15.5259765Z",
      "lookbackDuration": "00:09:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scenario Health Per Environment",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "correlatedFailingBucketTemplate": {
          "alertRules": [
            {
              "bucketsAnalyzed": 3,
              "failingBuckets": 2,
              "healthStatus": 2,
              "metadata": [],
              "severity": 3,
              "thresholds": [
                {
                  "comparator": ">",
                  "label": "Average",
                  "thresholdValue": 200.0
                }
              ]
            },
            {
              "bucketsAnalyzed": 3,
              "failingBuckets": 3,
              "healthStatus": 1,
              "metadata": [],
              "severity": 2,
              "thresholds": [
                {
                  "comparator": ">",
                  "label": "Average",
                  "thresholdValue": 800.0
                }
              ]
            }
          ],
          "bucketSizeInMinutes": 3,
          "expressions": [
            {
              "label": "Average",
              "percentageTemplate": {
                "denominator": [
                  {
                    "dataSourceType": 0,
                    "fetchMetrics": {
                      "aggregateType": 0,
                      "conditions": [],
                      "dataSourceType": 0,
                      "endTimeShift": "00:00:00",
                      "isNegative": false,
                      "lookbackDuration": "00:00:00",
                      "metric": "ActivityDuration",
                      "metricsSourceAggregateType": 0,
                      "monitoringAccount": "AzureResourcesTopology",
                      "namespace": "ResourcesCacheProvider",
                      "samplingType": "Count",
                      "useTotalAggregate": false
                    }
                  }
                ],
                "evaluatePureFraction": true,
                "multiplier": 1.0,
                "numerator": [
                  {
                    "dataSourceType": 0,
                    "fetchMetrics": {
                      "aggregateType": 0,
                      "conditions": [],
                      "dataSourceType": 0,
                      "endTimeShift": "00:00:00",
                      "isNegative": false,
                      "lookbackDuration": "00:00:00",
                      "metric": "ActivityDuration",
                      "metricsSourceAggregateType": 0,
                      "monitoringAccount": "AzureResourcesTopology",
                      "namespace": "ResourcesCacheProvider",
                      "samplingType": "Sum",
                      "useTotalAggregate": false
                    }
                  }
                ]
              },
              "templateType": 6,
              "valueOnDivideByZero": 0,
              "valueOnNull": 0
            }
          ]
        },
        "divideByZeroNotFailure": false,
        "skipOnNoData": false,
        "templateType": 11,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 11,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 3,
          "value": 200.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 1000.0
        }
      ],
      "version": 11
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ActivityAwareMiddleware.Invoke,CompressionMiddleware.InvokeInternalAsync,AuthenticationMiddleware.Invoke,ExceptionHandlingMiddleware.InvokeInternalAsync,UnmappedRouteMiddleware.Invoke",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": "orderby durationMilliseconds desc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-6&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20service%20==%20{{Monitor.Dimension.Service}\r%0Awhere%20activityName%20==%20\"ActivityAwareOwinMiddleware.Invoke\"\r%0Awhere%20durationMilliseconds%20>=%205000&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20durationMilliseconds%20desc",
          "lookback": "00:06:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == {{Monitor.Dimension.Service}\r\nwhere activityName == \"ActivityAwareOwinMiddleware.Invoke\"\r\nwhere durationMilliseconds >= 5000",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Slow Middleware Activities",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "MiddlewareDuration",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "lihzo",
      "lastUpdateTime": "2020-06-26T04:06:18.3203496Z",
      "lookbackDuration": "00:10:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "failingBucketTemplate": {
          "bucketComparator": ">=",
          "bucketDurationInMinutes": 1,
          "bucketTemplate": {
            "percentageTemplate": {
              "denominator": [],
              "evaluatePureFraction": true,
              "multiplier": 1.0,
              "numerator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [
                      [
                        "ActivityName",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Environment",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Service",
                        "*",
                        "",
                        "w",
                        "i"
                      ]
                    ],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 4,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "95th percentile",
                    "useTotalAggregate": false
                  }
                }
              ]
            },
            "templateType": 6,
            "valueOnDivideByZero": 0,
            "valueOnNull": 0
          },
          "bucketTemplateType": 6,
          "bucketThreshold": 5000.0
        },
        "skipOnNoData": true,
        "templateType": 7,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 7,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">=",
          "healthStatus": 2,
          "severity": 3,
          "value": 6.0
        },
        {
          "comparator": ">=",
          "healthStatus": 1,
          "severity": 2,
          "value": 9.0
        }
      ],
      "version": 20
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ActivityAwareMiddleware.Invoke",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "True",
          ""
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-6&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20service%20==%20{Monitor.Dimension.Service}\r%0Awhere%20activityName%20==%20\"ActivityAwareOwinMiddleware.Invoke\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:06:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == {Monitor.Dimension.Service}\r\nwhere activityName == \"ActivityAwareOwinMiddleware.Invoke\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Failed Middleware Activities",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "This incident triggers where there are a large number of failures in middlewares. Please refer to the saved DGrep query to identify the exact type of failures.",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "MiddlewareFailures",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": true,
      "isThrottled": false,
      "lastUpdatedBy": "johncall",
      "lastUpdateTime": "2019-11-19T03:50:18.1832803Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "jsSnippet": "JsFileRef:Azure~ology_Resou~vider_Acti~tion_Middl~lures_3dd894cb3717eefd.js"
      },
      "templateType": 1,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">=",
          "healthStatus": 2,
          "severity": 3,
          "value": 5.0
        },
        {
          "comparator": ">=",
          "healthStatus": 1,
          "severity": 2,
          "value": 10.0
        }
      ],
      "version": 23
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ScopeStatusController.GetSubscriptionOnboardingStatusAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "Key Activity Failures"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "See key activity failures",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt3art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20service%20==%20{Monitor.Dimension.Service}%0Awhere%20activityName%20==%20{Monitor.Dimension.ActivityName}&scopingConditions=[[\"Role\",\"nt3art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == {Monitor.Dimension.Service}\nwhere activityName == {Monitor.Dimension.ActivityName}",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Customer Scenario Failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Monitor failures in status API",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "StatusAPIFailureMonitor",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2018-12-07T04:49:20.9358963Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "compositePercentageTemplate": {
          "expressions": [
            {
              "denominator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [
                      [
                        "ActivityName",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Environment",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Service",
                        "*",
                        "",
                        "w",
                        "i"
                      ]
                    ],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 0,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "Count",
                    "useTotalAggregate": false
                  }
                }
              ],
              "evaluatePureFraction": true,
              "multiplier": 100.0,
              "numerator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [
                      [
                        "ActivityName",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "IsActivityFailed",
                        "True",
                        ""
                      ],
                      [
                        "Environment",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Service",
                        "*",
                        "",
                        "w",
                        "i"
                      ]
                    ],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 0,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "Count",
                    "useTotalAggregate": false
                  }
                }
              ]
            }
          ]
        },
        "divideByZeroNotFailure": false,
        "skipOnNoData": false,
        "templateType": 12,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 12,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 1.0
        }
      ],
      "version": 21
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "TenantDiscoveryJob.ExecuteInternalWithInputAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "Service",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [],
          "executionDelay": "00:00:00",
          "lookbackDuration": "06:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "Onboarding"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": null,
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20==%20\"TenantDiscoveryJob.ExecuteInternalWithInputAsync\"\r%0A\r%0Awhere%20exception%20==%20null%20||%20!exception.containsi(\"There%20is%20already%20a%20lease%20present\")&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"TenantDiscoveryJob.ExecuteInternalWithInputAsync\"\r\n\r\nwhere exception == null || !exception.containsi(\"There is already a lease present\")",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Tenant discovery failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "This monitor fires when we have too many failures in tenant discovery job. This might happen because the ARM calls are timing out or the tenant is gone which means those tenants should be cleaned from the table.\nThe most common failure reason which can be ignored is the acquire blob lease failures, other kind of errors should be investigated.\nIf this happens the notification can't ingest all the notification it receives and it will cause some subscriptions to become stale\nWe might be able to mitigate this issue by removing the affected regions of the ARM from hot config. The other mitigation would be to onboard the subscription\\tenant using the admin controllers.\n",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Tenant Discovery Failures",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "oltkache",
      "lastUpdateTime": "2020-02-04T02:46:38.4765242Z",
      "lookbackDuration": "01:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ],
          "evaluatePureFraction": true,
          "multiplier": 100.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "true",
                    ""
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": false,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 3,
          "value": 80.0
        }
      ],
      "version": 9
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "NormalizerJob.ExecuteInternalAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "IngestionWorkerService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-15&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20==%20\"NormalizerJob.ExecuteInternalAsync\"\r%0A&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:15:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"NormalizerJob.ExecuteInternalAsync\"\r\n",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Normalizer failure query ",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-15&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20==%20\"ValidationCheckJobValidityHandler.ExecuteAsync\"&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:15:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"ValidationCheckJobValidityHandler.ExecuteAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Scope snapshot issue failure",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-15&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20==%20\"SubscriptionSegmentationJob.SegmentResourcesIntoPagesAsync\"&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:15:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"SubscriptionSegmentationJob.SegmentResourcesIntoPagesAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Upload to blob failure query",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "If the failure rate of the normalizer goes up there is something wrong.\nThe possibilities are:\n1. List resource calls are failing\n2. Upload to blob is failing\n3. Getting the scopesnapshot is failing",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:30:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "01:00:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Normalizer failure rate",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2019-03-01T21:59:41.6331438Z",
      "lookbackDuration": "01:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": true,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ],
          "evaluatePureFraction": true,
          "multiplier": 100.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "true",
                    ""
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": false,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 30.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 60.0
        }
      ],
      "version": 16
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ScenarioBasedThrottlingHandler.DetermineThrottlingResultAsync",
          ""
        ],
        [
          "Environment",
          "EUS,WEU,SEA",
          ""
        ],
        [
          "IsActivityFailed",
          "*",
          "true"
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ],
        [
          "IsPhantomQuery",
          "false",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt3art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20activityName%20==%20\"ScenarioBasedThrottlingHandler.DetermineThrottlingResultAsync\"&scopingConditions=[[\"Role\",\"nt3art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=true&aggregates=[\"Count%20by%20TaskName\"]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"ScenarioBasedThrottlingHandler.DetermineThrottlingResultAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Throttling failed calls",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": true
            },
            {
              "key": "aggregates",
              "value": [
                "Count by TaskName"
              ]
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "If throttling fails we let the call to go in, this should fire when there is a problem with Redis or RP node, if this persist we should either remove the region or restart query nodes if there is a memory issue.\nFor Redis issues take a look at the redis metrics ",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "00:27:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Throttling Bypassed throttling count",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2020-06-25T15:29:28.3799882Z",
      "lookbackDuration": "00:20:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scenario Health Per Environment",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsPhantomQuery",
                    "false",
                    ""
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ],
          "evaluatePureFraction": true,
          "multiplier": 100.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "true",
                    ""
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsPhantomQuery",
                    "false",
                    ""
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": false,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 5.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 3,
          "value": 2.0
        }
      ],
      "version": 18
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "TenantRegistrationCosmosClient.ListUpdatedTenantRegistrationInfoAsync,RegistrationCosmosClient.ListRegistrationsInfoFromCache",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "false",
          ""
        ],
        [
          "ParentActivityName",
          "*",
          ""
        ],
        [
          "Service",
          "ResourcesSyncScheduler",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20service%20==%20\"ResourcesSyncScheduler\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"ResourcesSyncScheduler\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Scheduler Failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Scheduler is not refreshing his caches. If this happens after deployment, then it's not working at all. Service needs to be restarted.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "01:00:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "09:00:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "SchedulerCacheNotInit - Sev 2",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2020-06-25T16:11:03.1433745Z",
      "lookbackDuration": "06:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scenario Health Per Environment",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "metric": "Count"
      },
      "templateType": 2,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": "<",
          "healthStatus": 1,
          "severity": 2,
          "value": 20.0
        }
      ],
      "version": 11
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "AutoRenewVisibilityQueue.VisibilityRenew.UnexpectedError",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "IsActivityFailed",
          "True",
          ""
        ],
        [
          "Service",
          "*",
          "PartialSyncIngestionService"
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt4art",
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20==%20\"{Monitor.Dimension.ActivityName}\"&scopingConditions=[[\"Role\",\"nt4art,nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"{Monitor.Dimension.ActivityName}\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Queue Lease Renew Failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "This monitor fires when the auto renew queue message lease has an unexpected failure. See logs to investigate.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Queue Lease Renew Failed",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-05-17T23:21:46.3607106Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "metric": "Count"
      },
      "templateType": 2,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 200.0
        }
      ],
      "version": 13
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "PrefixAggregateRbacDataTimerTask.AggregateRbacDataAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "Service",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-2&offsetUnit=Hours&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0Awhere%20activityName%20==%20\"{Monitor.Dimension.ActivityName}\"&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "02:00:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\nwhere activityName == \"{Monitor.Dimension.ActivityName}\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Rbac prefix aggregation duration",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "If duration of rbac prefix aggregation goes up there may be an issue with the regional rbac storage acount, if the incident doesn't auto resolve we may need to move the tenant partition to a different region.",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "If duration of rbac prefix aggregation goes up there may be an issue with the regional rbac storage acount, if the incident doesn't auto resolve we may need to move the tenant partition to a different region.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Rbac prefix aggregation duration",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": true,
      "isThrottled": false,
      "lastUpdatedBy": "johncall",
      "lastUpdateTime": "2019-08-23T21:29:58.8342272Z",
      "lookbackDuration": "02:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "failingBucketTemplate": {
          "bucketComparator": ">",
          "bucketDurationInMinutes": 5,
          "bucketTemplate": {
            "percentageTemplate": {
              "denominator": [],
              "evaluatePureFraction": true,
              "multiplier": 1.0,
              "numerator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 2,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "Max",
                    "useTotalAggregate": false
                  }
                }
              ]
            },
            "templateType": 6,
            "valueOnDivideByZero": 0,
            "valueOnNull": 0
          },
          "bucketTemplateType": 6,
          "bucketThreshold": 1800000.0
        },
        "skipOnNoData": true,
        "templateType": 7,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 7,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 0.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 1.0
        }
      ],
      "version": 18
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ArmClientBase.CallArmWithoutRetryAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ],
        [
          "ScaleUnit",
          "ARG",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "ARG Write Path",
            "Notifications"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Notifications Dashboard",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-5&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0Awhere%20activityName%20==%20\"ArmClientBase.CallArmWithoutRetryAsync\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:05:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\nwhere activityName == \"ArmClientBase.CallArmWithoutRetryAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Arm calls",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-40&offsetUnit=Hours&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0Awhere%20activityName%20==%20\"ArmClientBase.CallArmWithoutRetryAsync\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"groupby%20TIMESTAMP.roundDown(\\\"PT1M\\\")%20as%20X\\nlet%20Count%20=%20Count()\"]]&UTC=false",
          "lookback": "1.16:00:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\nwhere activityName == \"ArmClientBase.CallArmWithoutRetryAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "DGrep of Arm Calls comparing to previous day",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  "groupby TIMESTAMP.roundDown(\"PT1M\") as X\nlet Count = Count()"
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "1- Monitor number of ARM calls for individual service regions\n2- We need to make sure ARM calls are stable in our product, too few of them means that there is clearly an issue with our service. Too many of them means we are bombarding ARM and will eventually get throttled.\n3- We are monitoring the low level calls to arm which contains List calls, Get calls, and calls to get manifest information.\n4- Job not processing enough messages, burst of notifications, there are many reasons where this could go wrong.\n5- The number of region where we send calls can be increased, we can also blacklist region with hot config controller (see livesite controller queries)\n6- Jobs and CPU could be the reason for the decrease. A blackout from an arm region could increase the number of retries and the numbers of calls overall. A badly configured manifest or an RP returning a wrong failure could create many calls to read the manifest. (in metadataCache)\n",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:10:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:20:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "ARMCalls per service (PS)",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-05-16T02:34:53.5713071Z",
      "lookbackDuration": "02:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scale Unit Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "lookbackType": "1.00:00:00",
        "metric": "Count"
      },
      "templateType": 4,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 4.0
        },
        {
          "comparator": "<",
          "healthStatus": 2,
          "severity": 3,
          "value": 0.25
        },
        {
          "comparator": "<",
          "healthStatus": 1,
          "severity": 2,
          "value": 0.1
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 10.0
        }
      ],
      "version": 31
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "RoleAssignmentPasSendNotificationJob.ExecuteInternalWithInputAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "Service",
          "IngestionWorkerService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20==%20\"RoleAssignmentPasSendNotificationJob.ExecuteInternalWithInputAsync\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"RoleAssignmentPasSendNotificationJob.ExecuteInternalWithInputAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Rbac Snapshot Send Notification Failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "The number of failures to send Role Assignment snapshots increased significantly",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:10:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "01:30:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Rbac Snapshot Send Failures",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "soagarwa",
      "lastUpdateTime": "2020-05-12T21:32:29.6455213Z",
      "lookbackDuration": "00:15:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ],
          "evaluatePureFraction": true,
          "multiplier": 1.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "true",
                    ""
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": false,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 0.1
        }
      ],
      "version": 4
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "KustoIngestor.IngestFromSingleBlobAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ],
        [
          "ScaleUnit",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [
            "ActivityName",
            "Environment",
            "Service"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "01:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "Store",
            "Kusto Store Ingestion Health"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Ingestion Health",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "orderby PreciseTimeStamp desc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art",
              "nt4art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-5&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&conditions=[[\"activityName\",\"==\",\"KustoIngestor.IngestFromSingleBlobAsync\"],[\"service\",\"contains\",\"{Monitor.Dimension.Service}\"],[\"durationMilliseconds\",\">=\",\"900\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art,nt4art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20PreciseTimeStamp%20desc",
          "lookback": "00:05:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(activityName.EqualsI(\"KustoIngestor.IngestFromSingleBlobAsync\")) and (service.ContainsI(\"{Monitor.Dimension.Service}\")) and (durationMilliseconds >= 900)",
          "serverQuerySimpleConditions": [
            {
              "comparand": "activityName",
              "operator": "==",
              "values": "KustoIngestor.IngestFromSingleBlobAsync"
            },
            {
              "comparand": "service",
              "operator": "contains",
              "values": "{Monitor.Dimension.Service}"
            },
            {
              "comparand": "durationMilliseconds",
              "operator": ">=",
              "values": "900"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Latest successes and failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "https://microsoft.sharepoint.com/teams/GovernanceVteam/_layouts/OneNote.aspx?id=%2Fteams%2FGovernanceVteam%2FSiteAssets%2FGovernance%20Vteam%20Notebook&wd=target%28ART%2FLivesite.one%7C0D4CF9B6-4A2C-40E4-92FE-742E1448468D%2FNotificationsKustoIngestionSlow%7CFB6A8A50-82D1-4B73-BE0E-8E1F7D27165B%2F%29 onenote:https://microsoft.sharepoint.com/teams/GovernanceVteam/SiteAssets/Governance%20Vteam%20Notebook/ART/Livesite.one#NotificationsKustoIngestionSlow&section-id={0D4CF9B6-4A2C-40E4-92FE-742E1448468D}&page-id={FB6A8A50-82D1-4B73-BE0E-8E1F7D27165B}&end ",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "KustoIngestor.IngestFromSingleBlobAsync durations increasing show an impact on our path of writing to Kusto.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Kusto Ingestion Slow PS",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ponaraya",
      "lastUpdateTime": "2020-07-01T18:13:52.2708493Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scale Unit Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "denominator": "Count",
        "lookbackType": "01:00:00",
        "numerator": "Sum"
      },
      "templateType": 5,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 50.0
        }
      ],
      "version": 15
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "UpdateManagementGroupCacheJob.ProcessResourcesAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "true",
          ""
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ],
        [
          "ScaleUnit",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [
            "ActivityName",
            "Environment",
            "IsActivityFailed",
            "Service"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "CosmosDB"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Cosmos DB",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20==%20\"UpdateManagementGroupCacheJob.ProcessResourcesAsync\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"UpdateManagementGroupCacheJob.ProcessResourcesAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Management Group Write to CosmosDb failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Management Groups notifications are failing to be written to cosmos db. Check Cosmos db connectivity and request units.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "00:45:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Management Groups Cosmos Write Failures PS",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "makharch",
      "lastUpdateTime": "2020-06-19T20:04:30.2871341Z",
      "lookbackDuration": "00:15:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scale Unit Activity Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "ScaleUnit",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ],
          "evaluatePureFraction": true,
          "multiplier": 100.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "ScaleUnit",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": false,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 15.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 50.0
        }
      ],
      "version": 15
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "PopulateResourceJob.ExecuteInternalWithInputAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "false",
          ""
        ],
        [
          "Service",
          "IngestionWorkerService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [
            "ActivityName",
            "IsActivityFailed"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "ARG Write Path",
            "Ingestion"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Ingestion",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [
            "ActivityName",
            "IsActivityFailed"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "ARG Write Path",
            "Ingestion failures"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Ingestion failures",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [
            "ActivityName",
            "IsActivityFailed"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "3.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "ARG Write Path",
            "Ingestion failures",
            "DomainIssues"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Domain issues",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-15&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted&conditions=[[\"activityName\",\"contains\",\"PopulateResourceJob.ExecuteInternalWithInputAsync\"],[\"service\",\"contains\",\"{Monitor.Dimension.Service}\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=true&aggregates=[\"Count%20by%20service\"]&chartsVisible=false&chartEditorVisible=true&chartType=Column&chartLayers=[[\"Duration\",\"groupby%20TIMESTAMP.roundDown(\\\"PT3M\\\")%20as%20X\\nlet%20durationMilliseconds%20=%20Average(durationMilliseconds)\"]]&UTC=false",
          "lookback": "00:15:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(activityName.ContainsI(\"PopulateResourceJob.ExecuteInternalWithInputAsync\")) and (service.ContainsI(\"{Monitor.Dimension.Service}\"))",
          "serverQuerySimpleConditions": [
            {
              "comparand": "activityName",
              "operator": "contains",
              "values": "PopulateResourceJob.ExecuteInternalWithInputAsync"
            },
            {
              "comparand": "service",
              "operator": "contains",
              "values": "{Monitor.Dimension.Service}"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Populate resource job",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": true
            },
            {
              "key": "aggregates",
              "value": [
                "Count by service"
              ]
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Column"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "Duration",
                  "groupby TIMESTAMP.roundDown(\"PT3M\") as X\nlet durationMilliseconds = Average(durationMilliseconds)"
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Monitor is looking for number of successfully populated resources in TimeSpan.\nIt fires in case when ingestion stops, slows down, starts to fail for most of resources. \n__________________________________________________\nInvestigation steps:\n\n1. Look into  PopulateResourceJob failures: https://jarvis-west.dc.ad.msft.net/dashboard/share/6BA2B03C (from Ingestion failures dashboard).\nIf the level exceptions increased significatly, it is entry point.\n\nIf you want to check if Ingestion is working at all, go to prod Kusto cluster and check that some resources where ingested at all:\n\nResources \n| where timestamp > ago(10m)\n| sort by timestamp desc \n| summarize count() \n\nOtherwise, go to step 2.\n\n2. Look into average time how long PopulateResources job is running (see attached DGrep Query for that)\nIf it is a case, look into a cause of that and perform actions according to the situation.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:10:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:20:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "PopulateResources",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "rchapas",
      "lastUpdateTime": "2019-07-30T21:02:49.9271647Z",
      "lookbackDuration": "00:15:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "lookbackType": "00:15:00",
        "metric": "Count"
      },
      "templateType": 4,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": "<",
          "healthStatus": 2,
          "severity": 3,
          "value": 0.5
        },
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 2.0
        }
      ],
      "version": 23
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "BlockDataUploadUtilities.UploadItemsToBlobAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ],
        [
          "ScaleUnit",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art",
              "nt4art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-5&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&conditions=[[\"activityName\",\"==\",\"BlockDataUploadUtilities.UploadItemsToBlobAsync\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art,nt4art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:05:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "activityName.EqualsI(\"BlockDataUploadUtilities.UploadItemsToBlobAsync\")",
          "serverQuerySimpleConditions": [
            {
              "comparand": "activityName",
              "operator": "==",
              "values": "BlockDataUploadUtilities.UploadItemsToBlobAsync"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Failed and completed UploadResourcesToBlobAsync",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "If blob update is slow, this will trigger. ",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Blob Update Slow",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-05-15T03:25:09.409075Z",
      "lookbackDuration": "00:15:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scale Unit Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "denominator": "Count",
        "numerator": "Sum"
      },
      "templateType": 3,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 1000.0
        }
      ],
      "version": 24
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ArmResourceClient.ListResourcesAsync,ArmResourceClient.ListProxyResourcesAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "ParentActivityName",
          "ListResourcesJob.ListResourcesAsync",
          ""
        ],
        [
          "Service",
          "IngestionWorkerService",
          ""
        ]
      ],
      "customLinks": [],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "If the number of list calls to ARM reduces or goes up a lot we probably have an issue which needs investigations.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "ARM list resources count",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-04-14T03:12:59.2792341Z",
      "lookbackDuration": "00:15:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "lookbackType": "01:00:00",
        "metric": "Count"
      },
      "templateType": 4,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 1.5
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 3,
          "value": 2.0
        },
        {
          "comparator": "<",
          "healthStatus": 1,
          "severity": 3,
          "value": 0.5
        }
      ],
      "version": 18
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "BlockDataUploadUtilities.UploadItemsToBlobAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "True",
          ""
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ],
        [
          "ScaleUnit",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-5&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&conditions=[[\"service\",\"==\",\"{Monitor.Dimension.Service}\"],[\"activityName\",\"==\",\"BlockDataUploadUtilities.UploadItemsToBlobAsync\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:05:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(service.EqualsI(\"{Monitor.Dimension.Service}\")) and (activityName.EqualsI(\"BlockDataUploadUtilities.UploadItemsToBlobAsync\"))",
          "serverQuerySimpleConditions": [
            {
              "comparand": "service",
              "operator": "==",
              "values": "{Monitor.Dimension.Service}"
            },
            {
              "comparand": "activityName",
              "operator": "==",
              "values": "BlockDataUploadUtilities.UploadItemsToBlobAsync"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Latest failed activities",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "blob update success rate is low ",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Blob Update Success Rate Low V2 PS",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-05-16T04:11:12.0834355Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scale Unit Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "ScaleUnit",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ],
          "evaluatePureFraction": true,
          "multiplier": 1.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "False",
                    ""
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "ScaleUnit",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": false,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": "<",
          "healthStatus": 2,
          "severity": 3,
          "value": 0.5
        }
      ],
      "version": 18
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "SchedulingHandler.ScheduleAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "ParentActivityName",
          "SubscriptionsSyncJobScheduler.DoWorkAsync",
          ""
        ],
        [
          "Service",
          "ResourcesSyncScheduler",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "Scheduler"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Scheduler dashboards",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-1&offsetUnit=Hours&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted&serverQuery=where%20service%20==%20\"ResourcesSyncScheduler\"\r%0Awhere%20activityName%20==%20\"SchedulingHandler.ScheduleAsync\"\r%0Awhere%20parentActivityName%20==%20\"SubscriptionsSyncJobScheduler.DoWorkAsync\"\r%0A&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "01:00:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"ResourcesSyncScheduler\"\r\nwhere activityName == \"SchedulingHandler.ScheduleAsync\"\r\nwhere parentActivityName == \"SubscriptionsSyncJobScheduler.DoWorkAsync\"\r\n",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Scheduler run",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "On average the duration for scheduling subscriptions should be less than 15 mins in each run when the service is warmed up and there is no significant back log to handle. If this duration is going up there might be an issue in scheduler. \n1. The Scheduler local caches are evicted which means there is memory pressure on the node which need investigations. (mitigation restarting the scheduler)\n2. An unusual number of subscriptions are onboarded and needed to be scheduled this needs investigations about the tenants and subscriptions as everything should be onboarded already.\n3. There is an issue with Storage Account and the writes to the queue are slowed down(Might be an incident active on storage team)\n4. There is an issue with DocDb and the writes to the scope snapshot are slowed down(Might be an incident active on DocDb team) or \n5. Our service has used all its RUS and DocDb is throttling us in this case limit should be increased from portal. This scenario can be confirmed from portal metrics.(mitigation increasing scopesnapshot collection RUS)",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:20:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:40:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Subscription scheduling duration",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2019-10-10T21:51:45.4914646Z",
      "lookbackDuration": "03:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "denominator": "Count",
        "lookbackType": "1.00:00:00",
        "numerator": "Average"
      },
      "templateType": 5,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 3.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 6.0
        }
      ],
      "version": 15
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ListResourcesJob.ListResourcesAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "ParentActivityName",
          "*",
          ""
        ],
        [
          "Service",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20==%20\"ListResourcesJob.ListResourcesAsync\"\r%0A\r%0Alet%20ArmEndpoint%20=%20Regex.Match(properties,%20\"ArmEndpoint=\\[(https://([a-zA-Z0-9\\.]+)/)\\]\").Groups[1].Value\r%0Alet%20ExceptionType%20=%20Regex.Match(exception,%20\"^([a-zA-Z\\.]+Exception):\").Groups[1].Value\r%0Alet%20ScopeId%20=%20Regex.Match(properties,%20\"ScopeId=\\[(.*)\\]\").Groups[1].Value\r%0A\r%0Alet%20ResourceType%20=%20Regex.Match(properties,%20\"BlobLeaseId=\\[([^_]*)_(.*)\\]\").Groups[2].Value&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=true&aggregates=[\"Count%20by%20ResourceType\",\"Count%20by%20ArmEndpoint\",\"Count%20by%20ExceptionType\"]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"ListResourcesJob.ListResourcesAsync\"\r\n\r\nlet ArmEndpoint = Regex.Match(properties, \"ArmEndpoint=\\[(https://([a-zA-Z0-9\\.]+)/)\\]\").Groups[1].Value\r\nlet ExceptionType = Regex.Match(exception, \"^([a-zA-Z\\.]+Exception):\").Groups[1].Value\r\nlet ScopeId = Regex.Match(properties, \"ScopeId=\\[(.*)\\]\").Groups[1].Value\r\n\r\nlet ResourceType = Regex.Match(properties, \"BlobLeaseId=\\[([^_]*)_(.*)\\]\").Groups[2].Value",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "List resources call failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": true
            },
            {
              "key": "aggregates",
              "value": [
                "Count by ResourceType",
                "Count by ArmEndpoint",
                "Count by ExceptionType"
              ]
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "If the failure rate of list resources goes up probably something is wrong with ARM and we need to blacklist some regions. ",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:15:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:30:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": " ARM list resources failure rate",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-03-17T02:22:33.3242292Z",
      "lookbackDuration": "01:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Global Prod Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ],
          "evaluatePureFraction": true,
          "multiplier": 100.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "true",
                    ""
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": false,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 10.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 25.0
        }
      ],
      "version": 22
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ResourceChangesControllerBase.QueryResourceChangesAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ],
        [
          "IsPhantomQuery",
          "false",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "Key Activity Failures"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Activity Failure",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt3art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-5&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20==%20\"ResourceChangesControllerBase.QueryResourceChangesAsync\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt3art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:05:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"ResourceChangesControllerBase.QueryResourceChangesAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "ResourceChanges",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "ResourceChanges Success Rate",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "paposkro",
      "lastUpdateTime": "2020-06-22T23:54:22.9137047Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "jsSnippet": "JsFileRef:Azure~ology_Resou~vider_Acti~tion_Resou~ Rate_a4b49410656aab92.js"
      },
      "templateType": 1,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 0.0
        }
      ],
      "version": 10
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ResourceChangesController.ResourceChangesAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ],
        [
          "IsPhantomQuery",
          "False",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [
            "ActivityName"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "06:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "Query Performance"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Query Performance Dashboard",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "orderby durationMilliseconds desc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt3art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0Awhere%20activityName%20==%20\"ResourceChangesController.ResourceChangesAsync\"\r%0Awhere%20durationMilliseconds%20>=%205000&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt3art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20durationMilliseconds%20desc",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\nwhere activityName == \"ResourceChangesController.ResourceChangesAsync\"\r\nwhere durationMilliseconds >= 5000",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Slow Portal Queries",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "This incident triggers when the portal queries are consistently slow. Use the dashboard to see which component is slowing down (PAS or Kusto), and use the saved query to evaluate how many customers are affected.",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:02:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:04:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "ResourceChanges Duration",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2019-09-13T16:52:04.4387437Z",
      "lookbackDuration": "00:06:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "failingBucketTemplate": {
          "bucketComparator": ">=",
          "bucketDurationInMinutes": 1,
          "bucketTemplate": {
            "percentageTemplate": {
              "denominator": [],
              "evaluatePureFraction": true,
              "multiplier": 1.0,
              "numerator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [
                      [
                        "ActivityName",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "IsPhantomQuery",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Environment",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Service",
                        "*",
                        "",
                        "w",
                        "i"
                      ]
                    ],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 4,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "95th percentile",
                    "useTotalAggregate": false
                  }
                }
              ]
            },
            "templateType": 6,
            "valueOnDivideByZero": 0,
            "valueOnNull": 0
          },
          "bucketTemplateType": 6,
          "bucketThreshold": 5000.0
        },
        "skipOnNoData": false,
        "templateType": 7,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 7,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">=",
          "healthStatus": 2,
          "severity": 4,
          "value": 3.0
        },
        {
          "comparator": ">=",
          "healthStatus": 1,
          "severity": 4,
          "value": 5.0
        }
      ],
      "version": 32
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "SubscriptionSegmentationJob.ExecuteInternalWithInputAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "IsActivityFailed",
          "True",
          ""
        ],
        [
          "Service",
          "IngestionWorkerService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-260&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20==%20\"SubscriptionSegmentationJob.ExecuteInternalWithInputAsync\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "04:20:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"SubscriptionSegmentationJob.ExecuteInternalWithInputAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "ScopeSegmentationJob failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "When this happens for big subscriptions, we're retrying the whole Normalizer flow and may be hitting ARM too much.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "04:00:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "1.12:00:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "ScopeSegmentation failures",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "oltkache",
      "lastUpdateTime": "2020-04-03T20:57:31.6751023Z",
      "lookbackDuration": "04:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "metric": "Count"
      },
      "templateType": 2,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 300.0
        }
      ],
      "version": 9
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "RbacProvider.GetMinimalScopedPermissions",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "false",
          ""
        ],
        [
          "NodeNumber",
          "*",
          ""
        ],
        [
          "NodeType",
          "nt3art",
          ""
        ],
        [
          "ParentActivityName",
          "RbacProvider.GetScopedPermissionsAsync",
          ""
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ],
        [
          "Tenant",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt3art"
            ],
            "Tenant": [
              "{Monitor.Dimension.Tenant}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20activityName%20==%20\"ScopedPermissionsProvider.GetMinimalScopedPermissions\"&scopingConditions=[[\"Role\",\"nt3art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Tenant\",\"{Monitor.Dimension.Tenant}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"ScopedPermissionsProvider.GetMinimalScopedPermissions\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Logs for the activity",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "The node might be running out of memory or GC pauses are causing the issue, either way we need to investigate this. The possible mitigation would be,  restarting the process or scale out\\up",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "00:27:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "SlowGetMinimalScopedPermissions",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2020-06-25T15:28:45.2423431Z",
      "lookbackDuration": "00:09:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scenario Health Per Environment",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "correlatedFailingBucketTemplate": {
          "alertRules": [
            {
              "bucketsAnalyzed": 3,
              "failingBuckets": 2,
              "healthStatus": 2,
              "metadata": [],
              "severity": 3,
              "thresholds": [
                {
                  "comparator": ">",
                  "label": "Average",
                  "thresholdValue": 100.0
                }
              ]
            },
            {
              "bucketsAnalyzed": 3,
              "failingBuckets": 3,
              "healthStatus": 1,
              "metadata": [],
              "severity": 2,
              "thresholds": [
                {
                  "comparator": ">",
                  "label": "Average",
                  "thresholdValue": 500.0
                }
              ]
            }
          ],
          "bucketSizeInMinutes": 3,
          "expressions": [
            {
              "label": "Average",
              "percentageTemplate": {
                "denominator": [
                  {
                    "dataSourceType": 0,
                    "fetchMetrics": {
                      "aggregateType": 0,
                      "conditions": [],
                      "dataSourceType": 0,
                      "endTimeShift": "00:00:00",
                      "isNegative": false,
                      "lookbackDuration": "00:00:00",
                      "metric": "ActivityDuration",
                      "metricsSourceAggregateType": 0,
                      "monitoringAccount": "AzureResourcesTopology",
                      "namespace": "ResourcesCacheProvider",
                      "samplingType": "Count",
                      "useTotalAggregate": false
                    }
                  }
                ],
                "evaluatePureFraction": true,
                "multiplier": 1.0,
                "numerator": [
                  {
                    "dataSourceType": 0,
                    "fetchMetrics": {
                      "aggregateType": 0,
                      "conditions": [],
                      "dataSourceType": 0,
                      "endTimeShift": "00:00:00",
                      "isNegative": false,
                      "lookbackDuration": "00:00:00",
                      "metric": "ActivityDuration",
                      "metricsSourceAggregateType": 0,
                      "monitoringAccount": "AzureResourcesTopology",
                      "namespace": "ResourcesCacheProvider",
                      "samplingType": "Sum",
                      "useTotalAggregate": false
                    }
                  }
                ]
              },
              "templateType": 6,
              "valueOnDivideByZero": 0,
              "valueOnNull": 0
            }
          ]
        },
        "divideByZeroNotFailure": false,
        "skipOnNoData": false,
        "templateType": 11,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 11,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 3,
          "value": 100.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 500.0
        }
      ],
      "version": 10
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "BlockDataUploadUtilities.UploadItemsToBlobAsync",
          ""
        ],
        [
          "Environment",
          "WEU",
          ""
        ],
        [
          "IsActivityFailed",
          "True",
          ""
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-5&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&conditions=[[\"service\",\"==\",\"{Monitor.Dimension.Service}\"],[\"activityName\",\"==\",\"BlockDataUploadUtilities.UploadItemsToBlobAsync\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:05:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(service.EqualsI(\"{Monitor.Dimension.Service}\")) and (activityName.EqualsI(\"BlockDataUploadUtilities.UploadItemsToBlobAsync\"))",
          "serverQuerySimpleConditions": [
            {
              "comparand": "service",
              "operator": "==",
              "values": "{Monitor.Dimension.Service}"
            },
            {
              "comparand": "activityName",
              "operator": "==",
              "values": "BlockDataUploadUtilities.UploadItemsToBlobAsync"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Latest failed activities",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        },
        {
          "$type": "Microsoft.Online.RecoveryService.Contract.Models.ActionConfiguration, Microsoft.Online.Metrics.Common",
          "actionDetails": {
            "actionAuthSignature": {
              "description": null,
              "metadataProperty": "actionAuthSignature",
              "name": "actionAuthSignature",
              "type": "string",
              "value": null
            },
            "endpoint": {
              "description": null,
              "metadataProperty": null,
              "name": "Endpoint",
              "type": "string",
              "value": "WEU_tm_nt"
            },
            "environment": {
              "description": null,
              "metadataProperty": null,
              "name": "Environment",
              "type": "string",
              "value": "Public"
            },
            "extension": {
              "description": null,
              "metadataProperty": null,
              "name": "Extension",
              "type": "string",
              "value": "Azure Resource Graph"
            },
            "operation": {
              "description": null,
              "metadataProperty": null,
              "name": "Operation",
              "type": "string",
              "value": "ArgAdminConfig_UpdateConfig"
            },
            "signatureExpiryUtc": {
              "description": null,
              "metadataProperty": "signatureExpiryUtc",
              "name": "signatureExpiryUtc",
              "type": "string",
              "value": null
            }
          },
          "actionType": 2,
          "autoExecute": false,
          "completionTimeout": 600,
          "description": null,
          "executionDelay": "00:00:00",
          "executionKind": 2,
          "externalRecoveryLink": "",
          "externalWorkflowName": "CloseConnectionsINT",
          "name": "CloseConnectionsWEU",
          "parameters": [
            {
              "description": null,
              "metadataProperty": null,
              "name": "appName",
              "type": "string",
              "value": "ResourcesCacheNotifications"
            },
            {
              "description": null,
              "metadataProperty": null,
              "name": "serviceName",
              "type": "string",
              "value": "ResourcesNotificationService"
            },
            {
              "description": null,
              "metadataProperty": null,
              "name": "section",
              "type": "string",
              "value": "ResourceNotifications"
            },
            {
              "description": null,
              "metadataProperty": null,
              "name": "key",
              "type": "string",
              "value": "RandomCloseConnectionPercent"
            },
            {
              "description": null,
              "metadataProperty": null,
              "name": "value",
              "type": "string",
              "value": "5"
            },
            {
              "description": null,
              "metadataProperty": null,
              "name": "force",
              "type": "string",
              "value": "false"
            }
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "retryCount": 0,
          "stablizationTimeout": 0,
          "title": "CloseConnectionsWEU",
          "type": "Action"
        }
      ],
      "customMessage": "Performing action will reduce incoming traffic to the region. Reset after storage slowdown is mitigated.                                                           Invoke-GenevaActionsOperation -Extension \"Azure Resource Graph\" -Operation ArgAdminConfig_UpdateConfig -Endpoint WEU_tm_nt -_appName ResourcesCacheNotifications -_serviceName ResourcesNotificationService  -_section ResourceNotifications -_key RandomCloseConnectionPercent -_value 5                                                               Invoke-GenevaActionsOperation -Extension \"Azure Resource Graph\" -Operation ArgAdminConfig_ResetConfig -Endpoint WEU_tm_nt -_appName ResourcesCacheNotifications -_serviceName ResourcesNotificationService  -_section ResourceNotifications -_key RandomCloseConnectionPercent",
      "customTitle": "Storage slow down. Prebuilt ACIS action to mitigate WEU.",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "For storage failures lasting more than 15 minutes, we want to reduce traffic of the region, to limit impact and reduce pressure on storage accounts.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 1,
      "healthyDurationToMitigateIncident": "00:00:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Blob Update Failures PS Switch Traffic Helper WEU",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "rchapas",
      "lastUpdateTime": "2020-05-13T19:47:52.1083105Z",
      "lookbackDuration": "00:15:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ],
          "evaluatePureFraction": true,
          "multiplier": 1.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "False",
                    ""
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": false,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": "<",
          "healthStatus": 2,
          "severity": 4,
          "value": 0.9
        }
      ],
      "version": 25
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "PrefixAggregateRbacDataTimerTask.DoWorkAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "IsActivityFailed",
          "true",
          ""
        ],
        [
          "Service",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": "let ExceptionType = Regex.Match(exception, \"^([a-zA-Z\\.]+Exception):\").Groups[1].Value",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-40&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0Awhere%20activityName%20==%20\"{Monitor.Dimension.ActivityName}\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=true&aggregates=[\"Count%20by%20ArmEndpoint\",\"Count%20by%20ExceptionType\"]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=let%20ExceptionType%20=%20Regex.Match(exception,%20\"^([a-zA-Z\\.]+Exception):\").Groups[1].Value",
          "lookback": "00:40:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\nwhere activityName == \"{Monitor.Dimension.ActivityName}\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Rbac prefix aggregation failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": true
            },
            {
              "key": "aggregates",
              "value": [
                "Count by ArmEndpoint",
                "Count by ExceptionType"
              ]
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "If the failure rate of rbac aggregation goes up something is wrong with one of the regions storage accounts, we may need to extend the grooming of rbac data from query nodes or move query load off this region.",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "If the failure rate of rbac prefix aggregation goes up something may be wrong with the regional rbac storage account. \n\nFor PrefixAggregateRbacDataTimerTask: if the activities are succeeding but are taking almost an hour to complete (observed few times for managementgroups), try to increase RbacSync\\PrefixAggregationMaxParallelism. Currently default value is 5, it should be safe to increase up to 10. Be careful to increase further as it may use more RAM.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Rbac prefix aggregation failure rate",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "makharch",
      "lastUpdateTime": "2020-07-17T00:05:53.3827192Z",
      "lookbackDuration": "00:40:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "metric": "Count"
      },
      "templateType": 2,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 2.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 5.0
        }
      ],
      "version": 21
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "IngestionMessageProcessingStrategy.ProcessMessageInternalAsync",
          ""
        ],
        [
          "IsActivityFailed",
          "false",
          ""
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ],
        [
          "ScaleUnit",
          "ARG",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&conditions=[[\"service\",\"==\",\"PartialSyncIngestionService\"],[\"activityName\",\"contains\",\"IngestionMessageProcessingStrategy.ProcessMessageInternalAsync\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(service.EqualsI(\"PartialSyncIngestionService\")) and (activityName.ContainsI(\"IngestionMessageProcessingStrategy.ProcessMessageInternalAsync\"))",
          "serverQuerySimpleConditions": [
            {
              "comparand": "service",
              "operator": "==",
              "values": "PartialSyncIngestionService"
            },
            {
              "comparand": "activityName",
              "operator": "contains",
              "values": "IngestionMessageProcessingStrategy.ProcessMessageInternalAsync"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Successful and failed messages processed by PartialSync",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Our notifications are expected to be split among regions unevenly, based on the expected load size each region should support. \nUse \"ARM Notifications Redistribution\" dashboard linked in email to check that the same amount of notifications is still flowing, and just the distribution changed. If it is not the case, contact Notification V team.\n\n[Deployment case] The notifications will be redistributed differently than we are expecting initially due to other regions temporary supporting traffic while deployed region regains processing capabilities, and it will take a while for the balance to be regained. This is a possible case when the monitor will be triggered, but no action should be taken except for monitoring no data is lost.\n\n[Normal day case] Try to identify what could have been the reason (multiple nodes down, regional failures). If nothing seems to be the case, contact Notification Vteam.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:20:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "03:00:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "AbnormalNotificationCountReadGlobal",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2020-07-10T20:44:54.8506075Z",
      "lookbackDuration": "03:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Global Scale Unit Activity Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "baselineAnomalyTemplate": {
          "alwaysTryTrain": false,
          "alwaysUseBaselineService": true,
          "anomalyEvaluationData": "",
          "anomalyEvaluationType": 1,
          "anomalyResultType": 1,
          "armMetricDimensions": null,
          "armMetricName": null,
          "armResourceId": null,
          "armRuleId": null,
          "armSpecificInformation": null,
          "baselineModelId": "",
          "baselineServiceCustomData": null,
          "bucketSize": "00:30:00",
          "maxCombinationsEvaluationThreshold": null,
          "maxConcurrentDataRetrievals": null,
          "multipointsAnomalyFeatureFlag": true,
          "resourceGroup": "JarvisResourceGroup",
          "sensitivity": "Medium",
          "shouldTrainInternally": null,
          "staticThresholdMax": null,
          "staticThresholdMin": null,
          "subscriptionId": "JarvisSubscription",
          "thresholdDirection": 2,
          "timeSeries": {
            "dataSourceType": 0,
            "fetchMetrics": {
              "aggregateType": 0,
              "conditions": [],
              "dataSourceType": 0,
              "endTimeShift": "00:00:00",
              "isNegative": false,
              "lookbackDuration": "00:00:00",
              "metric": "ActivityDuration",
              "metricsSourceAggregateType": 0,
              "monitoringAccount": "AzureResourcesTopology",
              "namespace": "ResourcesCacheProvider",
              "samplingType": "Count",
              "useTotalAggregate": false
            }
          },
          "trainingStartTime": null,
          "trainingWindow": null,
          "zScoreThreshold": 0.0
        },
        "divideByZeroNotFailure": false,
        "skipOnNoData": false,
        "templateType": 13,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 13,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 0.0
        }
      ],
      "version": 20
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ResourceQueryController.NonPortalResourcesAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ],
        [
          "IsPhantomQuery",
          "False",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "Key Activity Failures"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Activity Failure",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt3art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-5&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20==%20\"ResourceQueryController.NonPortalResourcesAsync\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt3art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:05:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"ResourceQueryController.NonPortalResourcesAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Failed Non Portal Queries",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Nonportal Query Monitor",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "guayang",
      "lastUpdateTime": "2019-10-30T22:20:06.6830207Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "jsSnippet": "JsFileRef:Azure~ology_Resou~vider_Acti~tion_Nonpo~nitor_8cf2483552368f3d.js"
      },
      "templateType": 1,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 5.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 10.0
        }
      ],
      "version": 34
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "SchedulingJobsQueueWriterBase.WriteAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "Service",
          "ResourcesSyncScheduler",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [
            "ActivityName"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "ARG Write Path",
            "Scheduler",
            "Jarvis-ObjectCount"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Count of Scheduled objects",
          "type": "Dashboard"
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "When too many objects are being scheduled at once.\n1-This can happen if we have turned off scheduling for a while and scheduler needs to catch up. in this case over Scheduling is expected\n2-This can also happen if we had issues figuring out what is already scheduled (if we can't read scope snapshot table) or if cache is evicted. In this case Over scheduling is bad.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Scheduler-ScheduleTooMany",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2019-07-09T01:36:22.6968979Z",
      "lookbackDuration": "00:40:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "lookbackType": "01:00:00",
        "metric": "Count"
      },
      "templateType": 4,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 2.0
        }
      ],
      "version": 10
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "KustoIngestor.IngestFromSingleBlobAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "Service",
          "IngestionWorkerService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [
            "ActivityName",
            "Environment",
            "Service"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "01:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "Store",
            "Kusto Store Ingestion Health"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Ingestion Health",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "orderby PreciseTimeStamp desc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art",
              "nt4art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-5&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&conditions=[[\"activityName\",\"==\",\"KustoIngestor.IngestFromSingleBlobAsync\"],[\"service\",\"contains\",\"{Monitor.Dimension.Service}\"],[\"durationMilliseconds\",\">=\",\"900\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art,nt4art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20PreciseTimeStamp%20desc",
          "lookback": "00:05:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(activityName.EqualsI(\"KustoIngestor.IngestFromSingleBlobAsync\")) and (service.ContainsI(\"{Monitor.Dimension.Service}\")) and (durationMilliseconds >= 900)",
          "serverQuerySimpleConditions": [
            {
              "comparand": "activityName",
              "operator": "==",
              "values": "KustoIngestor.IngestFromSingleBlobAsync"
            },
            {
              "comparand": "service",
              "operator": "contains",
              "values": "{Monitor.Dimension.Service}"
            },
            {
              "comparand": "durationMilliseconds",
              "operator": ">=",
              "values": "900"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Latest successes and failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "https://microsoft.sharepoint.com/teams/GovernanceVteam/_layouts/OneNote.aspx?id=%2Fteams%2FGovernanceVteam%2FSiteAssets%2FGovernance%20Vteam%20Notebook&wd=target%28ART%2FLivesite.one%7C0D4CF9B6-4A2C-40E4-92FE-742E1448468D%2FNotificationsKustoIngestionSlow%7CFB6A8A50-82D1-4B73-BE0E-8E1F7D27165B%2F%29 onenote:https://microsoft.sharepoint.com/teams/GovernanceVteam/SiteAssets/Governance%20Vteam%20Notebook/ART/Livesite.one#NotificationsKustoIngestionSlow&section-id={0D4CF9B6-4A2C-40E4-92FE-742E1448468D}&page-id={FB6A8A50-82D1-4B73-BE0E-8E1F7D27165B}&end ",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "KustoIngestor.IngestFromSingleBlobAsync durations increasing show an impact on our path of writing to Kusto.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Kusto Ingestion Slow",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-05-16T04:15:17.3287929Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "denominator": "Count",
        "lookbackType": "01:00:00",
        "numerator": "Sum"
      },
      "templateType": 5,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 50.0
        }
      ],
      "version": 14
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "FetchRoleAssignmentFromStorageJob.ExecuteInternalWithInputAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "IsActivityFailed",
          "false",
          ""
        ],
        [
          "Service",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt4art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20activityName%20==%20\"FetchRoleAssignmentFromStorageJob.ExecuteInternalWithInputAsync\"&scopingConditions=[[\"Role\",\"nt4art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"FetchRoleAssignmentFromStorageJob.ExecuteInternalWithInputAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Fetch role assignments activity",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted&serverQuery=where%20activityName%20==%20\"EventGridNotificationController.NotifyByEventGrid\"\r%0Awhere%20it.Any(\"\"\"subject\"\":\"\"Microsoft.Authorization/roleAssignments/\")&scopingConditions=[[\"Role\",\"nt\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"EventGridNotificationController.NotifyByEventGrid\"\r\nwhere it.Any(\"\"\"subject\"\":\"\"Microsoft.Authorization/roleAssignments/\")",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Logs for received notifications in Notification Service ",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "This monitor will fire in case of abnormal increase or decrease on number of role assignment notifications. We might need to investigate Notification Service or Partial Sync service to see if there are issues there.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:10:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "01:30:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Change in Number of Role Assignment notification",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2020-06-25T15:25:31.5753061Z",
      "lookbackDuration": "00:30:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scenario Health Per Environment",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "jsSnippet": "JsFileRef:Azure~ology_Resou~vider_Acti~tion_Chang~ation_8e547fb9e9aecc91.js"
      },
      "templateType": 1,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 0.0
        }
      ],
      "version": 13
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "*",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "true",
          ""
        ],
        [
          "ParentActivityName",
          "FullSyncNotificationIngestionJob.ExecuteInternalWithInputAsync",
          ""
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ],
        [
          "ScaleUnit",
          "*",
          ""
        ]
      ],
      "customLinks": [],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Partial Sync is seeing high volume of full sync errors",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "00:27:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "FullSyncNotificationsHighErrorVolume",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": true,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-05-18T00:52:33.474286Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scale Unit Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "metric": "Count"
      },
      "templateType": 2,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 3,
          "value": 100.0
        }
      ],
      "version": 6
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ResourceQueryController.PortalResourcesAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ],
        [
          "IsPhantomQuery",
          "False",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "Key Activity Failures"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Activity Failure",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt3art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0Awhere%20activityName%20==%20\"ResourceQueryController.PortalResourcesAsync\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt3art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\nwhere activityName == \"ResourceQueryController.PortalResourcesAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Failed Portal Queries",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "This incident triggers when there are a large number of failed portal queries due to server side issues. Please refer to the saved DGrep query to identify the failures.",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Monitors the success rate of portal queries",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Portal Query Monitor",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "guayang",
      "lastUpdateTime": "2019-10-30T22:19:45.0360768Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "jsSnippet": "JsFileRef:Azure~ology_Resou~vider_Acti~tion_Porta~nitor_41cec31833383736.js"
      },
      "templateType": 1,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">=",
          "healthStatus": 2,
          "severity": 3,
          "value": 5.0
        },
        {
          "comparator": ">=",
          "healthStatus": 1,
          "severity": 2,
          "value": 10.0
        }
      ],
      "version": 28
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "SchedulingJobsQueueWriterBase.WriteOneAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "ResourcesSyncScheduler",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "Scheduler"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": null,
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "orderby durationMilliseconds desc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20activityName%20==%20\"SchedulingJobsQueueWriterBase.WriteOneAsync\"\r%0A\r%0Awhere%20durationMilliseconds%20>=%20500&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20durationMilliseconds%20desc",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"SchedulingJobsQueueWriterBase.WriteOneAsync\"\r\n\r\nwhere durationMilliseconds >= 500",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Slow queue writes",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "On average the duration for writing entries to the queue should be less than 100 ms if this goes up the scheduler might slow down and fall behind. There are couple of possible reasons for triggering this monitor:\n1. There is an issue with Storage Account and the writes to the queue are slowed down(Might be an incident active on storage team)\n2. There are not enough IO\\Network threads available on the node( this needs further investigations to root cause) Restarting the scheduler might help in this case as the new instance might come online on another node with more available resources. \n",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:20:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:40:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Scheduler Write To Queue Duration",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "rchapas",
      "lastUpdateTime": "2019-11-19T21:22:20.2096683Z",
      "lookbackDuration": "00:30:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "denominator": "Count",
        "numerator": "Sum"
      },
      "templateType": 3,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 500.0
        }
      ],
      "version": 12
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ArmClientBase.CallArmWithoutRetryAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "IngestionWorkerService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "ARG Write Path",
            "Ingestion"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Ingestion Dashboard",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-5&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20service%20==%20{Monitor.Dimension.Service}\r%0Awhere%20activityName%20==%20\"ArmClientBase.CallArmWithoutRetryAsync\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:05:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == {Monitor.Dimension.Service}\r\nwhere activityName == \"ArmClientBase.CallArmWithoutRetryAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Arm calls",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "1- Monitor number of ARM calls for individual services\n2- We need to make sure ARM calls are stable in our product, too few of them means that there is clearly an issue with our service. Too many of them means we are bombarding ARM and will eventually get throttled.\n3- We are monitoring the low level calls to arm which contains List calls, Get calls, and calls to get manifest information.\n4- Job not processing enough messages, burst of notifications, there are many reasons where this could go wrong.\n5- The number of region where we send calls can be increased, we can also blacklist region with hot config controller (see livesite controller queries)\n6- Jobs and CPU could be the reason for the decrease. A blackout from an arm region could increase the number of retries and the numbers of calls overall. A badly configured manifest or an RP returning a wrong failure could create many calls to read the manifest. (in metadataCache)\n",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:10:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:20:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "ARMCalls per service",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2019-06-07T21:42:24.112873Z",
      "lookbackDuration": "02:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "lookbackType": "1.00:00:00",
        "metric": "Count"
      },
      "templateType": 4,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 2.0
        },
        {
          "comparator": "<",
          "healthStatus": 2,
          "severity": 3,
          "value": 0.5
        },
        {
          "comparator": "<",
          "healthStatus": 1,
          "severity": 2,
          "value": 0.2
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 5.0
        }
      ],
      "version": 23
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "TenantSyncJob.ExecuteInternalAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "Service",
          "IngestionWorkerService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20service%20==%20\"IngestionWorkerService\"\r%0Awhere%20activityName%20==\"TenantSyncJob.ExecuteInternalAsync\"\r%0Alet%20tenantId%20=%20Regex.Match(properties,%20\"TenantId=\\[([^\\]]+)\\]\").Groups[1].Value&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=true&aggregates=[\"Count%20by%20tenantId\"]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"IngestionWorkerService\"\r\nwhere activityName ==\"TenantSyncJob.ExecuteInternalAsync\"\r\nlet tenantId = Regex.Match(properties, \"TenantId=\\[([^\\]]+)\\]\").Groups[1].Value",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Tenant Sync job failures ",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": true
            },
            {
              "key": "aggregates",
              "value": [
                "Count by tenantId"
              ]
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "This monitor fires when we have too many failures in tenant sync job. This might happen because the ARM calls are timing out or the tenant is gone which means those tenants should be cleaned from the table. When this issue happens we might miss some subscription moves and fail to sync them for a while. We might be able to mitigate this issue by removing the affected regions of the ARM from hot config.",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "This monitor fires when we have too many failures in tenant sync job. This might happen because the ARM calls are timing out or the tenant is gone which means those tenants should be cleaned from the table.\nWhen this issue happens we might miss some subscription moves and fail to sync them for a while. \nWe might be able to mitigate this issue by removing the affected regions of the ARM from hot config.\n",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:15:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:30:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "TenantSyncJob",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-03-17T02:18:41.3499313Z",
      "lookbackDuration": "01:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ],
          "evaluatePureFraction": true,
          "multiplier": 100.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "true",
                    ""
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": false,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 10.0
        }
      ],
      "version": 14
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ResourceChangesController.ResourceChangeDetailsAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ],
        [
          "IsPhantomQuery",
          "False",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [
            "ActivityName"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "06:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "Query Performance"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Query Performance Dashboard",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "orderby durationMilliseconds desc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt3art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0Awhere%20activityName%20==%20\"ResourceChangesController.ResourceChangeDetailsAsync\"\r%0Awhere%20durationMilliseconds%20>=%205000&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt3art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20durationMilliseconds%20desc",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\nwhere activityName == \"ResourceChangesController.ResourceChangeDetailsAsync\"\r\nwhere durationMilliseconds >= 5000",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Slow Portal Queries",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "This incident triggers when the portal queries are consistently slow. Use the dashboard to see which component is slowing down (PAS or Kusto), and use the saved query to evaluate how many customers are affected.",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:02:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:04:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "ResourceChangeDetails Duration",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2019-09-13T16:51:35.9501412Z",
      "lookbackDuration": "00:06:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "failingBucketTemplate": {
          "bucketComparator": ">=",
          "bucketDurationInMinutes": 1,
          "bucketTemplate": {
            "percentageTemplate": {
              "denominator": [],
              "evaluatePureFraction": true,
              "multiplier": 1.0,
              "numerator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [
                      [
                        "ActivityName",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "IsPhantomQuery",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Environment",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Service",
                        "*",
                        "",
                        "w",
                        "i"
                      ]
                    ],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 4,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "95th percentile",
                    "useTotalAggregate": false
                  }
                }
              ]
            },
            "templateType": 6,
            "valueOnDivideByZero": 0,
            "valueOnNull": 0
          },
          "bucketTemplateType": 6,
          "bucketThreshold": 5000.0
        },
        "skipOnNoData": false,
        "templateType": 7,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 7,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">=",
          "healthStatus": 2,
          "severity": 4,
          "value": 3.0
        },
        {
          "comparator": ">=",
          "healthStatus": 1,
          "severity": 4,
          "value": 5.0
        }
      ],
      "version": 32
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "BlockDataUploadUtilities.UploadItemsToBlobAsync",
          ""
        ],
        [
          "Environment",
          "SEA",
          ""
        ],
        [
          "IsActivityFailed",
          "True",
          ""
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-5&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&conditions=[[\"service\",\"==\",\"{Monitor.Dimension.Service}\"],[\"activityName\",\"==\",\"BlockDataUploadUtilities.UploadItemsToBlobAsync\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:05:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(service.EqualsI(\"{Monitor.Dimension.Service}\")) and (activityName.EqualsI(\"BlockDataUploadUtilities.UploadItemsToBlobAsync\"))",
          "serverQuerySimpleConditions": [
            {
              "comparand": "service",
              "operator": "==",
              "values": "{Monitor.Dimension.Service}"
            },
            {
              "comparand": "activityName",
              "operator": "==",
              "values": "BlockDataUploadUtilities.UploadItemsToBlobAsync"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Latest failed activities",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        },
        {
          "$type": "Microsoft.Online.RecoveryService.Contract.Models.ActionConfiguration, Microsoft.Online.Metrics.Common",
          "actionDetails": {
            "actionAuthSignature": {
              "description": null,
              "metadataProperty": "actionAuthSignature",
              "name": "actionAuthSignature",
              "type": "string",
              "value": null
            },
            "endpoint": {
              "description": null,
              "metadataProperty": null,
              "name": "Endpoint",
              "type": "string",
              "value": "SEA_tm_nt"
            },
            "environment": {
              "description": null,
              "metadataProperty": null,
              "name": "Environment",
              "type": "string",
              "value": "Public"
            },
            "extension": {
              "description": null,
              "metadataProperty": null,
              "name": "Extension",
              "type": "string",
              "value": "Azure Resource Graph"
            },
            "operation": {
              "description": null,
              "metadataProperty": null,
              "name": "Operation",
              "type": "string",
              "value": "ArgAdminConfig_UpdateConfig"
            },
            "signatureExpiryUtc": {
              "description": null,
              "metadataProperty": "signatureExpiryUtc",
              "name": "signatureExpiryUtc",
              "type": "string",
              "value": null
            }
          },
          "actionType": 2,
          "autoExecute": false,
          "completionTimeout": 600,
          "description": null,
          "executionDelay": "00:00:00",
          "executionKind": 2,
          "externalRecoveryLink": "",
          "externalWorkflowName": "CloseConnectionsINT",
          "name": "CloseConnectionsSEA",
          "parameters": [
            {
              "description": null,
              "metadataProperty": null,
              "name": "appName",
              "type": "string",
              "value": "ResourcesCacheNotifications"
            },
            {
              "description": null,
              "metadataProperty": null,
              "name": "serviceName",
              "type": "string",
              "value": "ResourcesNotificationService"
            },
            {
              "description": null,
              "metadataProperty": null,
              "name": "section",
              "type": "string",
              "value": "ResourceNotifications"
            },
            {
              "description": null,
              "metadataProperty": null,
              "name": "key",
              "type": "string",
              "value": "RandomCloseConnectionPercent"
            },
            {
              "description": null,
              "metadataProperty": null,
              "name": "value",
              "type": "string",
              "value": "5"
            },
            {
              "description": null,
              "metadataProperty": null,
              "name": "force",
              "type": "string",
              "value": "false"
            }
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "retryCount": 0,
          "stablizationTimeout": 0,
          "title": "CloseConnectionsSEA",
          "type": "Action"
        }
      ],
      "customMessage": "Performing action will reduce incoming traffic to the region. Reset after storage slowdown is mitigated.                                                          Invoke-GenevaActionsOperation -Extension \"Azure Resource Graph\" -Operation ArgAdminConfig_UpdateConfig -Endpoint SEA_tm_nt -_appName ResourcesCacheNotifications -_serviceName ResourcesNotificationService  -_section ResourceNotifications -_key RandomCloseConnectionPercent -_value 5                                                               Invoke-GenevaActionsOperation -Extension \"Azure Resource Graph\" -Operation ArgAdminConfig_ResetConfig -Endpoint SEA_tm_nt -_appName ResourcesCacheNotifications -_serviceName ResourcesNotificationService  -_section ResourceNotifications -_key RandomCloseConnectionPercent",
      "customTitle": "Storage slow down. Prebuilt ACIS action to mitigate SEA.",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "For storage failures lasting more than 15 minutes, we want to reduce traffic of the region, to limit impact and reduce pressure on storage accounts.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 1,
      "healthyDurationToMitigateIncident": "00:00:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Blob Update Failures PS Switch Traffic Helper SEA",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "rchapas",
      "lastUpdateTime": "2020-05-13T19:49:07.9914423Z",
      "lookbackDuration": "00:15:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ],
          "evaluatePureFraction": true,
          "multiplier": 1.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "False",
                    ""
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": false,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": "<",
          "healthStatus": 2,
          "severity": 4,
          "value": 0.9
        }
      ],
      "version": 25
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "TenantRegistrationCosmosClient.ListUpdatedTenantRegistrationInfoAsync,RegistrationCosmosClient.ListUpdatedRegistrationInfoAsync,ProxyPartnerResourceProviderManifestClient.ListResourceProviderManifestsAsync,TransformationRuleClient.ListTransformationRulesAsync,LAVAStoreClient.ListVerifiedApiVersionsAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "true",
          ""
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ],
        [
          "ScaleUnit",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [
            "ActivityName",
            "Environment",
            "IsActivityFailed",
            "Service"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "CosmosDB"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Cosmos DB",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&conditions=[[\"activityName\",\"==\",\"{Monitor.Dimension.ActivityName}\"],[\"service\",\"==\",\"{Monitor.Dimension.Service}\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(activityName.EqualsI(\"{Monitor.Dimension.ActivityName}\")) and (service.EqualsI(\"{Monitor.Dimension.Service}\"))",
          "serverQuerySimpleConditions": [
            {
              "comparand": "activityName",
              "operator": "==",
              "values": "{Monitor.Dimension.ActivityName}"
            },
            {
              "comparand": "service",
              "operator": "==",
              "values": "{Monitor.Dimension.Service}"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Cache refresh failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "One of our auto refresh memory caches cannot update itself and became stale. Check Cosmos db connectivity.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "00:27:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "CosmosDbCacheUpdateFailures PS",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "amdua",
      "lastUpdateTime": "2020-06-26T00:22:49.7175248Z",
      "lookbackDuration": "01:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scale Unit Activity Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "failingBucketTemplate": {
          "bucketComparator": ">",
          "bucketDurationInMinutes": 1,
          "bucketTemplate": {
            "percentageTemplate": {
              "denominator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [
                      [
                        "ActivityName",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Environment",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "IsActivityFailed",
                        "false,true",
                        ""
                      ],
                      [
                        "Service",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "ScaleUnit",
                        "*",
                        "",
                        "w",
                        "i"
                      ]
                    ],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 0,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "Count",
                    "useTotalAggregate": false
                  }
                }
              ],
              "evaluatePureFraction": true,
              "multiplier": 1.0,
              "numerator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 0,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "Count",
                    "useTotalAggregate": false
                  }
                }
              ]
            },
            "templateType": 6,
            "valueOnDivideByZero": 0,
            "valueOnNull": 0
          },
          "bucketTemplateType": 6,
          "bucketThreshold": 0.0
        },
        "skipOnNoData": false,
        "templateType": 7,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 7,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 15.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 45.0
        }
      ],
      "version": 16
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ResourceQueryController.QueryResourcesInternalAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ]
      ],
      "customLinks": [],
      "customMessage": "This incident triggers when query region is down",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Monitors query regions health",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:01:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:02:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Query region down",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "paposkro",
      "lastUpdateTime": "2019-10-22T19:30:38.2896698Z",
      "lookbackDuration": "00:02:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "metric": "Count"
      },
      "templateType": 2,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": "==",
          "healthStatus": 2,
          "severity": 3,
          "value": 0.0
        }
      ],
      "version": 24
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "FetchClassicAdminsJob.ExecuteInternalWithOutputAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "false",
          ""
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted&serverQuery=where%20activityName%20==%20\"EventGridNotificationController.NotifyByEventGrid\"\r%0Awhere%20it.Any(\"subscriptionchange\")&scopingConditions=[[\"Role\",\"nt\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"EventGridNotificationController.NotifyByEventGrid\"\r\nwhere it.Any(\"subscriptionchange\")",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Number of received classic admin notifications ",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt4art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted&serverQuery=where%20activityName%20==%20\"FetchClassicAdminsJob.ExecuteInternalWithOutputAsync\"&scopingConditions=[[\"Role\",\"nt4art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"FetchClassicAdminsJob.ExecuteInternalWithOutputAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "The processed notifications in Partial Sync",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "00:27:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Change in Number of Classic Admin notifications",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2020-06-25T15:24:10.533698Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scenario Health Per Environment",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "jsSnippet": "JsFileRef:Azure~ology_Resou~vider_Acti~tion_Chang~tions_35faef42dfdeacf4.js"
      },
      "templateType": 1,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 0.0
        }
      ],
      "version": 7
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "RbacProvider.GetScopedPermissionsAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "false",
          ""
        ],
        [
          "NodeNumber",
          "*",
          ""
        ],
        [
          "NodeType",
          "nt3art",
          ""
        ],
        [
          "ParentActivityName",
          "QueryService.ExecuteUserQueryAsync",
          ""
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ],
        [
          "Tenant",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "where durationMilliseconds > 100",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt3art"
            ],
            "Tenant": [
              "{Monitor.Dimension.Tenant}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20activityName%20==%20\"RbacProvider.GetScopedPermissionsAsync\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt3art\"],[\"Tenant\",\"{Monitor.Dimension.Tenant}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=where%20durationMilliseconds%20>%20100",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"RbacProvider.GetScopedPermissionsAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "slow node logs",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Usually average time should not be higher than 100-200ms. The node might be running out of memory or GC pauses are causing the issue, either way we need to investigate this. The possible mitigations would be, restarting the process or scale out\\up.\nNote: This can be slow on startup (usually after the deployment).",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "00:27:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "SlowRbacPermissionRetrieval",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2020-06-25T15:29:05.8463731Z",
      "lookbackDuration": "00:09:00",
      "metadata": [
        {
          "metadataKey": "Icm.TsgId",
          "metadataValue": "https://microsoft.sharepoint.com/teams/GovernanceVteam/_layouts/OneNote.aspx?id=%2Fteams%2FGovernanceVteam%2FSiteAssets%2FGovernance%20Vteam%20Notebook&wd=target%28ARG%2FLivesite.one%7C0D4CF9B6-4A2C-40E4-92FE-742E1448468D%2FSlowRbacPermissionRetrieval%7C097D6669-BB4F-4843-8916-CA7D8E05CAF2%2F%29 onenote:https://microsoft.sharepoint.com/teams/GovernanceVteam/SiteAssets/Governance%20Vteam%20Notebook/ARG/Livesite.one#SlowRbacPermissionRetrieval&section-id={0D4CF9B6-4A2C-40E4-92FE-742E1448468D}&page-id={097D6669-BB4F-4843-8916-CA7D8E05CAF2}&end"
        }
      ],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scenario Health Per Environment",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "correlatedFailingBucketTemplate": {
          "alertRules": [
            {
              "bucketsAnalyzed": 3,
              "failingBuckets": 2,
              "healthStatus": 2,
              "metadata": [],
              "severity": 3,
              "thresholds": [
                {
                  "comparator": ">",
                  "label": "Average",
                  "thresholdValue": 400.0
                }
              ]
            },
            {
              "bucketsAnalyzed": 3,
              "failingBuckets": 2,
              "healthStatus": 1,
              "metadata": [],
              "severity": 2,
              "thresholds": [
                {
                  "comparator": ">",
                  "label": "Average",
                  "thresholdValue": 1500.0
                }
              ]
            }
          ],
          "bucketSizeInMinutes": 3,
          "expressions": [
            {
              "label": "Average",
              "percentageTemplate": {
                "denominator": [
                  {
                    "dataSourceType": 0,
                    "fetchMetrics": {
                      "aggregateType": 0,
                      "conditions": [],
                      "dataSourceType": 0,
                      "endTimeShift": "00:00:00",
                      "isNegative": false,
                      "lookbackDuration": "00:00:00",
                      "metric": "ActivityDuration",
                      "metricsSourceAggregateType": 0,
                      "monitoringAccount": "AzureResourcesTopology",
                      "namespace": "ResourcesCacheProvider",
                      "samplingType": "Count",
                      "useTotalAggregate": false
                    }
                  }
                ],
                "evaluatePureFraction": true,
                "multiplier": 1.0,
                "numerator": [
                  {
                    "dataSourceType": 0,
                    "fetchMetrics": {
                      "aggregateType": 0,
                      "conditions": [],
                      "dataSourceType": 0,
                      "endTimeShift": "00:00:00",
                      "isNegative": false,
                      "lookbackDuration": "00:00:00",
                      "metric": "ActivityDuration",
                      "metricsSourceAggregateType": 0,
                      "monitoringAccount": "AzureResourcesTopology",
                      "namespace": "ResourcesCacheProvider",
                      "samplingType": "Sum",
                      "useTotalAggregate": false
                    }
                  }
                ]
              },
              "templateType": 6,
              "valueOnDivideByZero": 0,
              "valueOnNull": 0
            }
          ]
        },
        "divideByZeroNotFailure": false,
        "skipOnNoData": false,
        "templateType": 11,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 11,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 3,
          "value": 400.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 1500.0
        }
      ],
      "version": 18
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ArmManifestClient.GetProviderManifestAsync,ArmManifestClient.GetArmResourceProviderAliasManifestAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "IsActivityFailed",
          "true",
          ""
        ],
        [
          "Service",
          "ManagementService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20!=%20null%20%26%26%20activityName.containsi(\"ManifestsUpdateTimerTask.DoWorkAsync\")%20||%20activityName.containsi(\"ArmManifestClient\")&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName != null && activityName.containsi(\"ManifestsUpdateTimerTask.DoWorkAsync\") || activityName.containsi(\"ArmManifestClient\")",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Failures to fetch manifests",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "This is a low level monitor which check for inidividual FetchManifestsCalls and check if they are consistently failing.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "01:00:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "09:00:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "FetchManifestsCallsConsistentlyFailingMonitor",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-05-26T22:38:55.7714721Z",
      "lookbackDuration": "04:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "failingBucketTemplate": {
          "bucketComparator": ">",
          "bucketDurationInMinutes": 60,
          "bucketTemplate": {
            "percentageTemplate": {
              "denominator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [
                      [
                        "ActivityName",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Environment",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "IsActivityFailed",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Service",
                        "*",
                        "",
                        "w",
                        "i"
                      ]
                    ],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 0,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "Count",
                    "useTotalAggregate": false
                  }
                },
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [
                      [
                        "ActivityName",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Environment",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "IsActivityFailed",
                        "false",
                        ""
                      ],
                      [
                        "Service",
                        "*",
                        "",
                        "w",
                        "i"
                      ]
                    ],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 0,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "Count",
                    "useTotalAggregate": false
                  }
                }
              ],
              "evaluatePureFraction": true,
              "multiplier": 1.0,
              "numerator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [
                      [
                        "ActivityName",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Environment",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "IsActivityFailed",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Service",
                        "*",
                        "",
                        "w",
                        "i"
                      ]
                    ],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 0,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "Count",
                    "useTotalAggregate": false
                  }
                }
              ]
            },
            "templateType": 6,
            "valueOnDivideByZero": 0,
            "valueOnNull": 0
          },
          "bucketTemplateType": 6,
          "bucketThreshold": 0.0
        },
        "skipOnNoData": false,
        "templateType": 7,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 7,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 3,
          "value": 2.0
        }
      ],
      "version": 7
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "HealthProbeController.Probe",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "*",
          ""
        ],
        [
          "NodeNumber",
          "*",
          ""
        ],
        [
          "NodeType",
          "nt3art",
          ""
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ],
        [
          "Tenant",
          "*",
          ""
        ],
        [
          "IsPhantomQuery",
          "false",
          ""
        ]
      ],
      "customLinks": [],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "00:27:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "QueryNodeDown",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": true,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2020-06-29T20:54:42.6333247Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scenario Health Per Environment",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "NodeNumber",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "NodeType",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Tenant",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsPhantomQuery",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ],
          "evaluatePureFraction": true,
          "multiplier": 100.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "true",
                    ""
                  ],
                  [
                    "NodeNumber",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "NodeType",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Tenant",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsPhantomQuery",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": true,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">=",
          "healthStatus": 1,
          "severity": 2,
          "value": 80.0
        },
        {
          "comparator": ">=",
          "healthStatus": 1,
          "severity": 3,
          "value": 20.0
        }
      ],
      "version": 6
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ActivityAwareOwinMiddleware.Invoke",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": "orderby durationMilliseconds desc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-6&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20service%20==%20{{Monitor.Dimension.Service}\r%0Awhere%20activityName%20==%20\"ActivityAwareOwinMiddleware.Invoke\"\r%0Awhere%20durationMilliseconds%20>=%205000&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20durationMilliseconds%20desc",
          "lookback": "00:06:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == {{Monitor.Dimension.Service}\r\nwhere activityName == \"ActivityAwareOwinMiddleware.Invoke\"\r\nwhere durationMilliseconds >= 5000",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Slow Owin Middleware Activities",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "OwinMiddlewareDuration",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "guayang",
      "lastUpdateTime": "2019-10-28T15:52:22.1819679Z",
      "lookbackDuration": "00:10:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "failingBucketTemplate": {
          "bucketComparator": ">=",
          "bucketDurationInMinutes": 1,
          "bucketTemplate": {
            "percentageTemplate": {
              "denominator": [],
              "evaluatePureFraction": true,
              "multiplier": 1.0,
              "numerator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [
                      [
                        "ActivityName",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Environment",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Service",
                        "*",
                        "",
                        "w",
                        "i"
                      ]
                    ],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 4,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "95th percentile",
                    "useTotalAggregate": false
                  }
                }
              ]
            },
            "templateType": 6,
            "valueOnDivideByZero": 0,
            "valueOnNull": 0
          },
          "bucketTemplateType": 6,
          "bucketThreshold": 5000.0
        },
        "skipOnNoData": true,
        "templateType": 7,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 7,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">=",
          "healthStatus": 2,
          "severity": 3,
          "value": 6.0
        },
        {
          "comparator": ">=",
          "healthStatus": 1,
          "severity": 2,
          "value": 9.0
        }
      ],
      "version": 18
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "SchedulingHandler.ScheduleAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "ParentActivityName",
          "TenantRegistrationSyncJobScheduler.DoWorkAsync",
          ""
        ],
        [
          "Service",
          "ResourcesSyncScheduler",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "Scheduler"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Scheduler",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-2&offsetUnit=Hours&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0Awhere%20activityName%20==%20\"SchedulingHandler.ScheduleAsync\"\r%0Awhere%20parentActivityName%20==%20\"TenantRegistrationSyncJobScheduler.DoWorkAsync\"\r%0A&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "02:00:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\nwhere activityName == \"SchedulingHandler.ScheduleAsync\"\r\nwhere parentActivityName == \"TenantRegistrationSyncJobScheduler.DoWorkAsync\"\r\n",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Tenant scheduling top level activity",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "On average the duration for scheduling tenants should be less than 10 mins in each run when the service is warmed up and there is no significant back log to handle. If this duration is going up there might be an issue in scheduler. \n1. The Scheduler local caches are evicted which means there is memory pressure on the node which need investigations. (mitigation restarting the scheduler)\n2. An unusual number of tenants are onboarded and needed to be scheduled this needs investigations about the tenants as everything should be onboarded already(Onboarding dashboards are helpful in this scenario).\n3. There is an issue with Storage Account and the writes to the queue are slowed down(Might be an incident active on storage team)\n4. There is an issue with DocDb and the writes to the scope snapshot are slowed down(Might be an incident active on DocDb team) or \n5. Our service has used all its RUS and DocDb is throttling us in this case limit should be increased from portal. This scenario can be confirmed from portal metrics.(mitigation increasing scopesnapshot collection RUS)",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:20:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:40:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Tenant scheduling duration",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2019-11-14T00:58:53.9869358Z",
      "lookbackDuration": "00:30:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "denominator": "Count",
        "lookbackType": "1.00:00:00",
        "numerator": "Average"
      },
      "templateType": 5,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 2.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 3,
          "value": 5.0
        }
      ],
      "version": 17
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "NormalizerJob.ExecuteInternalAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "IngestionWorkerService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "ARG Write Path",
            "Ingestion"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Ingestion dashboard",
          "type": "Dashboard"
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Normalizer is processing too few/too many messages.\n\nPossible reasons:\n- Scheduler missed something or scheduled extra\n- Normalizer doesn't pump messages from the queue\n- Job processing is too long, and normalizer is out of workers",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Normalizer messages processed",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2019-06-07T21:44:51.3735275Z",
      "lookbackDuration": "02:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "lookbackType": "02:00:00",
        "metric": "Count"
      },
      "templateType": 4,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": "<",
          "healthStatus": 1,
          "severity": 2,
          "value": 0.5
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 2.0
        }
      ],
      "version": 12
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "NormalizerValidationJob.ExecuteInternalPassthroughAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "IngestionWorkerService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "ARG Write Path",
            "Ingestion"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Ingestion Dashboard",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": "orderby durationMilliseconds desc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-15&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20activityName%20==%20\"NormalizerValidationJob.ExecuteInternalPassthroughAsync\"&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20durationMilliseconds%20desc",
          "lookback": "00:15:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"NormalizerValidationJob.ExecuteInternalPassthroughAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Normalizer Validation Job",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Normalizer DocDB slow",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2019-06-07T21:42:43.7340719Z",
      "lookbackDuration": "00:15:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "metric": "Average"
      },
      "templateType": 2,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 150000.0
        }
      ],
      "version": 10
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "KustoIngestor.IngestFromSingleBlobAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "True",
          ""
        ],
        [
          "Service",
          "IngestionWorkerService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": "orderby PreciseTimeStamp asc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art",
              "nt4art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-5&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&conditions=[[\"service\",\"==\",\"{Monitor.Dimension.Service}\"],[\"activityName\",\"contains\",\"KustoIngestor.IngestFromSingleBlobAsync\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art,nt4art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20PreciseTimeStamp%20asc",
          "lookback": "00:05:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(service.EqualsI(\"{Monitor.Dimension.Service}\")) and (activityName.ContainsI(\"KustoIngestor.IngestFromSingleBlobAsync\"))",
          "serverQuerySimpleConditions": [
            {
              "comparand": "service",
              "operator": "==",
              "values": "{Monitor.Dimension.Service}"
            },
            {
              "comparand": "activityName",
              "operator": "contains",
              "values": "KustoIngestor.IngestFromSingleBlobAsync"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Failed KustoIngestor.IngestFromSingleBlobAsync activities",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Looks at the success rate of notifications being ingested to Kusto",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Kusto Ingestion Success Rate Low",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-05-17T23:14:08.6470811Z",
      "lookbackDuration": "00:15:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ],
          "evaluatePureFraction": true,
          "multiplier": 1.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "true",
                    ""
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": false,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 0.1
        }
      ],
      "version": 14
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "AggregateRbacDataTimerTask.AggregateRbacDataAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "Service",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [
            "Environment"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "RbacV3",
            "Aggregation"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Rbac Aggregation",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-2&offsetUnit=Hours&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0Awhere%20activityName%20==%20\"{Monitor.Dimension.ActivityName}\"&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "02:00:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\nwhere activityName == \"{Monitor.Dimension.ActivityName}\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Rbac aggregation duration",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "If duration of rbac aggregation goes up we may need to disable querying in this region to ensure we have up to rbac syncs or extend the rbac grooming period in query so we retain more data.",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "If duration of rbac aggregation goes up we may need to disable querying in this region to ensure we have up to rbac syncs or extend the rbac grooming period in query so we retain more data.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Rbac aggregation duration sev2",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": true,
      "isThrottled": false,
      "lastUpdatedBy": "utsriva",
      "lastUpdateTime": "2020-06-09T11:05:54.1859835Z",
      "lookbackDuration": "04:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "failingBucketTemplate": {
          "bucketComparator": ">",
          "bucketDurationInMinutes": 5,
          "bucketTemplate": {
            "percentageTemplate": {
              "denominator": [],
              "evaluatePureFraction": true,
              "multiplier": 1.0,
              "numerator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 2,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "Max",
                    "useTotalAggregate": false
                  }
                }
              ]
            },
            "templateType": 6,
            "valueOnDivideByZero": 0,
            "valueOnNull": 0
          },
          "bucketTemplateType": 6,
          "bucketThreshold": 1800000.0
        },
        "skipOnNoData": true,
        "templateType": 7,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 7,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 2.0
        }
      ],
      "version": 27
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "AggregateRbacDataTimerTask.DoWorkAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "IsActivityFailed",
          "true",
          ""
        ],
        [
          "Service",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0Awhere%20activityName%20==%20\"{Monitor.Dimension.ActivityName}\"&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\nwhere activityName == \"{Monitor.Dimension.ActivityName}\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Rbac aggregation failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "If the failure rate of rbac aggregation goes up something is wrong with one of the regions storage accounts, we may need to extend the grooming of rbac data from query nodes or move query load off this region.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "00:45:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Rbac aggregation failure rate buckets",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "makharch",
      "lastUpdateTime": "2020-04-03T15:53:26.5411757Z",
      "lookbackDuration": "00:30:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "failingBucketTemplate": {
          "bucketComparator": ">=",
          "bucketDurationInMinutes": 5,
          "bucketTemplate": {
            "percentageTemplate": {
              "denominator": [],
              "evaluatePureFraction": true,
              "multiplier": 1.0,
              "numerator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [
                      [
                        "ActivityName",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Environment",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "IsActivityFailed",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Service",
                        "*",
                        "",
                        "w",
                        "i"
                      ]
                    ],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 0,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "Count",
                    "useTotalAggregate": false
                  }
                }
              ]
            },
            "templateType": 6,
            "valueOnDivideByZero": 0,
            "valueOnNull": 0
          },
          "bucketTemplateType": 6,
          "bucketThreshold": 1.0
        },
        "skipOnNoData": false,
        "templateType": 7,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 7,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 2.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 5.0
        }
      ],
      "version": 8
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "BlockDataUploadUtilities.UploadItemsToBlobAsync",
          ""
        ],
        [
          "Environment",
          "EUS",
          ""
        ],
        [
          "IsActivityFailed",
          "True",
          ""
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-5&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&conditions=[[\"service\",\"==\",\"{Monitor.Dimension.Service}\"],[\"activityName\",\"==\",\"BlockDataUploadUtilities.UploadItemsToBlobAsync\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:05:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(service.EqualsI(\"{Monitor.Dimension.Service}\")) and (activityName.EqualsI(\"BlockDataUploadUtilities.UploadItemsToBlobAsync\"))",
          "serverQuerySimpleConditions": [
            {
              "comparand": "service",
              "operator": "==",
              "values": "{Monitor.Dimension.Service}"
            },
            {
              "comparand": "activityName",
              "operator": "==",
              "values": "BlockDataUploadUtilities.UploadItemsToBlobAsync"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Latest failed activities",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        },
        {
          "$type": "Microsoft.Online.RecoveryService.Contract.Models.ActionConfiguration, Microsoft.Online.Metrics.Common",
          "actionDetails": {
            "actionAuthSignature": {
              "description": null,
              "metadataProperty": "actionAuthSignature",
              "name": "actionAuthSignature",
              "type": "string",
              "value": null
            },
            "endpoint": {
              "description": null,
              "metadataProperty": null,
              "name": "Endpoint",
              "type": "string",
              "value": "EUS_tm_nt"
            },
            "environment": {
              "description": null,
              "metadataProperty": null,
              "name": "Environment",
              "type": "string",
              "value": "Public"
            },
            "extension": {
              "description": null,
              "metadataProperty": null,
              "name": "Extension",
              "type": "string",
              "value": "Azure Resource Graph"
            },
            "operation": {
              "description": null,
              "metadataProperty": null,
              "name": "Operation",
              "type": "string",
              "value": "ArgAdminConfig_UpdateConfig"
            },
            "signatureExpiryUtc": {
              "description": null,
              "metadataProperty": "signatureExpiryUtc",
              "name": "signatureExpiryUtc",
              "type": "string",
              "value": null
            }
          },
          "actionType": 2,
          "autoExecute": false,
          "completionTimeout": 600,
          "description": null,
          "executionDelay": "00:00:00",
          "executionKind": 2,
          "externalRecoveryLink": "",
          "externalWorkflowName": "CloseConnectionsINT",
          "name": "CloseConnectionsEUS",
          "parameters": [
            {
              "description": null,
              "metadataProperty": null,
              "name": "appName",
              "type": "string",
              "value": "ResourcesCacheNotifications"
            },
            {
              "description": null,
              "metadataProperty": null,
              "name": "serviceName",
              "type": "string",
              "value": "ResourcesNotificationService"
            },
            {
              "description": null,
              "metadataProperty": null,
              "name": "section",
              "type": "string",
              "value": "ResourceNotifications"
            },
            {
              "description": null,
              "metadataProperty": null,
              "name": "key",
              "type": "string",
              "value": "RandomCloseConnectionPercent"
            },
            {
              "description": null,
              "metadataProperty": null,
              "name": "value",
              "type": "string",
              "value": "5"
            },
            {
              "description": null,
              "metadataProperty": null,
              "name": "force",
              "type": "string",
              "value": "false"
            }
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "retryCount": 0,
          "stablizationTimeout": 0,
          "title": "CloseConnectionsEUS",
          "type": "Action"
        }
      ],
      "customMessage": "Performing action will reduce incoming traffic to the region. Reset after storage slowdown is mitigated.                                                          Invoke-GenevaActionsOperation -Extension \"Azure Resource Graph\" -Operation ArgAdminConfig_UpdateConfig -Endpoint EUS_tm_nt -_appName ResourcesCacheNotifications -_serviceName ResourcesNotificationService  -_section ResourceNotifications -_key RandomCloseConnectionPercent -_value 5                                                              Invoke-GenevaActionsOperation -Extension \"Azure Resource Graph\" -Operation ArgAdminConfig_ResetConfig -Endpoint EUS_tm_nt -_appName ResourcesCacheNotifications -_serviceName ResourcesNotificationService  -_section ResourceNotifications -_key RandomCloseConnectionPercent",
      "customTitle": "Storage slow down. Prebuilt ACIS action to mitigate EUS.",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "For storage failures lasting more than 15 minutes, we want to reduce traffic of the region, to limit impact and reduce pressure on storage accounts.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 1,
      "healthyDurationToMitigateIncident": "00:00:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Blob Update Failures PS Switch Traffic Helper EUS",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "rchapas",
      "lastUpdateTime": "2020-05-13T19:48:38.9407103Z",
      "lookbackDuration": "00:15:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ],
          "evaluatePureFraction": true,
          "multiplier": 1.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "False",
                    ""
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": false,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": "<",
          "healthStatus": 2,
          "severity": 4,
          "value": 0.9
        }
      ],
      "version": 23
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ResourceQueryController.NonPortalResourcesAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ],
        [
          "IsPhantomQuery",
          "False",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "orderby durationMilliseconds desc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt3art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted&serverQuery=where%20activityName%20==%20\"ResourceQueryController.NonPortalResourcesAsync\"&scopingConditions=[[\"Role\",\"nt3art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20durationMilliseconds%20desc",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"ResourceQueryController.NonPortalResourcesAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Non portal queries",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "NonPortalQueryDuration",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "guayang",
      "lastUpdateTime": "2019-10-30T22:17:44.5960156Z",
      "lookbackDuration": "00:15:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "failingBucketTemplate": {
          "bucketComparator": ">=",
          "bucketDurationInMinutes": 3,
          "bucketTemplate": {
            "percentageTemplate": {
              "denominator": [],
              "evaluatePureFraction": true,
              "multiplier": 1.0,
              "numerator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 4,
                    "conditions": [
                      [
                        "ActivityName",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "IsPhantomQuery",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Environment",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Service",
                        "*",
                        "",
                        "w",
                        "i"
                      ]
                    ],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 4,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "95th percentile",
                    "useTotalAggregate": false
                  }
                }
              ]
            },
            "templateType": 6,
            "valueOnDivideByZero": 0,
            "valueOnNull": 0
          },
          "bucketTemplateType": 6,
          "bucketThreshold": 3000.0
        },
        "skipOnNoData": true,
        "templateType": 7,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 7,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">=",
          "healthStatus": 2,
          "severity": 3,
          "value": 3.0
        },
        {
          "comparator": ">=",
          "healthStatus": 1,
          "severity": 2,
          "value": 4.0
        }
      ],
      "version": 20
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "TenantPasSyncJob.ExecuteInternalAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "Service",
          "IngestionWorkerService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&conditions=[[\"service\",\"==\",\"{Monitor.Dimension.Service}\"],[\"activityName\",\"==\",\"TenantPasSyncJob.ExecuteInternalAsync\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(service.EqualsI(\"{Monitor.Dimension.Service}\")) and (activityName.EqualsI(\"TenantPasSyncJob.ExecuteInternalAsync\"))",
          "serverQuerySimpleConditions": [
            {
              "comparand": "service",
              "operator": "==",
              "values": "{Monitor.Dimension.Service}"
            },
            {
              "comparand": "activityName",
              "operator": "==",
              "values": "TenantPasSyncJob.ExecuteInternalAsync"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Failing TenantPasSyncJob.ExecuteInternalAsync",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "The number of failures for the TenantPasSyncJob.ExecuteInternalAsync increased substantially\nIf no jobs of this type occur we are not doing the full sync for pas which should be continuous therefore throw on divide by 0",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:10:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:20:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "PasSyncTenantExecutionFailures",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "makharch",
      "lastUpdateTime": "2020-04-30T03:00:43.9832198Z",
      "lookbackDuration": "00:15:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ],
          "evaluatePureFraction": true,
          "multiplier": 1.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "ActivityName",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "IsActivityFailed",
                    "True",
                    ""
                  ],
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "ActivityDuration",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Count",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": false,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 0.1
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 0.3
        }
      ],
      "version": 13
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ManifestsUpdateTimerTask.DoWorkAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "IsActivityFailed",
          "True",
          ""
        ],
        [
          "Service",
          "ManagementService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20activityName%20!=%20null%20%26%26%20activityName.containsi(\"ManifestsUpdateTimerTask.DoWorkAsync\")%20||%20activityName.containsi(\"ArmManifestClient\")&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName != null && activityName.containsi(\"ManifestsUpdateTimerTask.DoWorkAsync\") || activityName.containsi(\"ArmManifestClient\")",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Failures to fetch manifests",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Fetch resouce provider manifest. \nIf it fails, it could fail the updates of RP manifests. And drop notifications.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "01:00:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "09:00:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "FetchManifestsFailingMonitor",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2020-06-03T20:48:26.7139978Z",
      "lookbackDuration": "04:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "metric": "Count"
      },
      "templateType": 2,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 3,
          "value": 2.0
        },
        {
          "comparator": ">=",
          "healthStatus": 2,
          "severity": 3,
          "value": 4.0
        }
      ],
      "version": 16
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ClassicAdminCacheDataAccess.FetchClassicAdminsFromStorageAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "false",
          ""
        ],
        [
          "NodeNumber",
          "*",
          ""
        ],
        [
          "NodeType",
          "nt3art",
          ""
        ],
        [
          "ParentActivityName",
          "AuthorizationDataProvider.FetchRoleAssignmentsAsync",
          ""
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ],
        [
          "Tenant",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt3art"
            ],
            "Tenant": [
              "{Monitor.Dimension.Tenant}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20activityName%20==%20\"{Monitor.Dimension.ActivityName}\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt3art\"],[\"Tenant\",\"{Monitor.Dimension.Tenant}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"{Monitor.Dimension.ActivityName}\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Logs for the activity",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "The node might be running out of memory or GC pauses are causing the issue, either way we need to investigate this. The possible mitigation would be restarting the process or scale out\\up",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "00:27:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "SlowCAFetchFromDisk",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2020-06-25T15:22:40.5797184Z",
      "lookbackDuration": "00:09:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scenario Health Per Environment",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "correlatedFailingBucketTemplate": {
          "alertRules": [
            {
              "bucketsAnalyzed": 3,
              "failingBuckets": 2,
              "healthStatus": 2,
              "metadata": [],
              "severity": 3,
              "thresholds": [
                {
                  "comparator": ">",
                  "label": "Average",
                  "thresholdValue": 100.0
                }
              ]
            },
            {
              "bucketsAnalyzed": 3,
              "failingBuckets": 3,
              "healthStatus": 1,
              "metadata": [],
              "severity": 2,
              "thresholds": [
                {
                  "comparator": ">",
                  "label": "Average",
                  "thresholdValue": 800.0
                }
              ]
            }
          ],
          "bucketSizeInMinutes": 3,
          "expressions": [
            {
              "label": "Average",
              "percentageTemplate": {
                "denominator": [
                  {
                    "dataSourceType": 0,
                    "fetchMetrics": {
                      "aggregateType": 0,
                      "conditions": [],
                      "dataSourceType": 0,
                      "endTimeShift": "00:00:00",
                      "isNegative": false,
                      "lookbackDuration": "00:00:00",
                      "metric": "ActivityDuration",
                      "metricsSourceAggregateType": 0,
                      "monitoringAccount": "AzureResourcesTopology",
                      "namespace": "ResourcesCacheProvider",
                      "samplingType": "Count",
                      "useTotalAggregate": false
                    }
                  }
                ],
                "evaluatePureFraction": true,
                "multiplier": 1.0,
                "numerator": [
                  {
                    "dataSourceType": 0,
                    "fetchMetrics": {
                      "aggregateType": 0,
                      "conditions": [],
                      "dataSourceType": 0,
                      "endTimeShift": "00:00:00",
                      "isNegative": false,
                      "lookbackDuration": "00:00:00",
                      "metric": "ActivityDuration",
                      "metricsSourceAggregateType": 0,
                      "monitoringAccount": "AzureResourcesTopology",
                      "namespace": "ResourcesCacheProvider",
                      "samplingType": "Sum",
                      "useTotalAggregate": false
                    }
                  }
                ]
              },
              "templateType": 6,
              "valueOnDivideByZero": 0,
              "valueOnNull": 0
            }
          ]
        },
        "divideByZeroNotFailure": false,
        "skipOnNoData": false,
        "templateType": 11,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 11,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 3,
          "value": 100.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 1000.0
        }
      ],
      "version": 10
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ActivityAwareOwinMiddleware.Invoke",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "True",
          ""
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-6&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20service%20==%20{Monitor.Dimension.Service}\r%0Awhere%20activityName%20==%20\"ActivityAwareOwinMiddleware.Invoke\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:06:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == {Monitor.Dimension.Service}\r\nwhere activityName == \"ActivityAwareOwinMiddleware.Invoke\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Failed Owin Middleware Activities",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "This incident triggers where there are a large number of failures in Owin middlewares. Please refer to the saved DGrep query to identify the exact type of failures.",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "OwinMiddlewareFailures",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": true,
      "isThrottled": false,
      "lastUpdatedBy": "guayang",
      "lastUpdateTime": "2019-10-28T19:58:57.1966522Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "jsSnippet": "JsFileRef:Azure~ology_Resou~vider_Acti~tion_OwinM~lures_5dbfc6a1b53ef0f2.js"
      },
      "templateType": 1,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">=",
          "healthStatus": 2,
          "severity": 3,
          "value": 5.0
        },
        {
          "comparator": ">=",
          "healthStatus": 1,
          "severity": 2,
          "value": 10.0
        }
      ],
      "version": 22
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ArmResourceClient.GetResourceWithResultAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ],
        [
          "ScaleUnit",
          "ARG",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "orderby durationMilliseconds desc\r\nwhere exception == null || !exception.containsi(\"Microsoft.WindowsAzure.Governance.ResourcesCache.AzureResourceManagement.Exceptions.ArmNotFoundResponseException\")",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-5&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0A\r%0Awhere%20activityName%20==%20\"ArmResourceClient.GetResourceWithResultAsync\"\r%0Awhere%20durationMilliseconds%20>%203000&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20durationMilliseconds%20desc\r%0Awhere%20exception%20==%20null%20||%20!exception.containsi(\"Microsoft.WindowsAzure.Governance.ResourcesCache.AzureResourceManagement.Exceptions.ArmNotFoundResponseException\")",
          "lookback": "00:05:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\n\r\nwhere activityName == \"ArmResourceClient.GetResourceWithResultAsync\"\r\nwhere durationMilliseconds > 3000",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "PartSyncArmGetResourceAsyncDuration",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "The duration of GetResourceAsync in PartialSync service is too high. This can cause notification delays.\n\nTSG: https://microsoft.sharepoint.com/teams/GovernanceVteam/_layouts/OneNote.aspx?id=%2Fteams%2FGovernanceVteam%2FSiteAssets%2FGovernance%20Vteam%20Notebook%2FART&wd=target%28Livesite.one%7C0D4CF9B6-4A2C-40E4-92FE-742E1448468D%2FNotificationsArmGetResourceAsyncIsSlow%7C354A5CA2-9984-4908-BCD6-16EBB0411097%2F%29\nonenote:https://microsoft.sharepoint.com/teams/GovernanceVteam/SiteAssets/Governance%20Vteam%20Notebook/ART/Livesite.one#NotificationsArmGetResourceAsyncIsSlow&section-id={0D4CF9B6-4A2C-40E4-92FE-742E1448468D}&page-id={354A5CA2-9984-4908-BCD6-16EBB0411097}&end",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "NotificationsArmGetResourceAsyncIsSlow",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "lakshmia",
      "lastUpdateTime": "2020-07-22T01:11:27.7920892Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scale Unit Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "denominator": "Count",
        "numerator": "Sum"
      },
      "templateType": 3,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 3000.0
        }
      ],
      "version": 9
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ResourceQueryController.PortalResourcesAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "QueryApiService",
          ""
        ],
        [
          "IsPhantomQuery",
          "False",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [
            "ActivityName"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "06:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "Query Performance"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Query Performance Dashboard",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "orderby durationMilliseconds desc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt3art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0Awhere%20activityName%20==%20\"ResourceQueryController.PortalResourcesAsync\"\r%0Awhere%20durationMilliseconds%20>=%205000&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt3art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20durationMilliseconds%20desc",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\nwhere activityName == \"ResourceQueryController.PortalResourcesAsync\"\r\nwhere durationMilliseconds >= 5000",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Slow Portal Queries",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "This incident triggers when the portal queries are consistently slow. Use the dashboard to see which component is slowing down (PAS or Kusto), and use the saved query to evaluate how many customers are affected.",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:06:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "PortalQueryDuration",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "guayang",
      "lastUpdateTime": "2019-10-30T22:18:19.9783021Z",
      "lookbackDuration": "00:15:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "failingBucketTemplate": {
          "bucketComparator": ">=",
          "bucketDurationInMinutes": 3,
          "bucketTemplate": {
            "percentageTemplate": {
              "denominator": [],
              "evaluatePureFraction": true,
              "multiplier": 1.0,
              "numerator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 4,
                    "conditions": [
                      [
                        "ActivityName",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "IsPhantomQuery",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Environment",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Service",
                        "*",
                        "",
                        "w",
                        "i"
                      ]
                    ],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 4,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "95th percentile",
                    "useTotalAggregate": false
                  }
                }
              ]
            },
            "templateType": 6,
            "valueOnDivideByZero": 0,
            "valueOnNull": 0
          },
          "bucketTemplateType": 6,
          "bucketThreshold": 3000.0
        },
        "skipOnNoData": true,
        "templateType": 7,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 7,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">=",
          "healthStatus": 2,
          "severity": 3,
          "value": 3.0
        },
        {
          "comparator": ">=",
          "healthStatus": 1,
          "severity": 2,
          "value": 4.0
        }
      ],
      "version": 36
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "UpdateScopeSnapshotInfoWriter.WriteAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "ResourcesSyncScheduler",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "Scheduler"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": null,
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "orderby durationMilliseconds desc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20activityName%20==%20\"UpdateScopeSnapshotInfoWriter.WriteAsync\"\r%0A\r%0Awhere%20durationMilliseconds%20>=%20500&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Role\",\"nt0art\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20durationMilliseconds%20desc",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"UpdateScopeSnapshotInfoWriter.WriteAsync\"\r\n\r\nwhere durationMilliseconds >= 500",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Slow DocDB writes",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "On average the duration for writing entries to the cosmos db should be less than 100 ms if this goes up the scheduler might slow down and fall behind. There are couple of possible reasons for triggering this monitor:\n1. There is an issue with Cosmod DB and the writes to the queue are slowed down(Might be an incident active on cosmos team)\n2. We don't have enough RUS which we can confirm from portal and we can increase it there to mitigate incident(We need to investigate further why we ran our of RUS)\n3. There are not enough IO\\Network threads available on the node( this needs further investigations to root cause) Restarting the scheduler might help in this case as the new instance might come online on another node with more available resources. \n",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:30:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "01:00:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Scheduler Write To Cosmos Duration",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "rchapas",
      "lastUpdateTime": "2020-01-06T17:00:00.4004296Z",
      "lookbackDuration": "00:35:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "denominator": "Count",
        "numerator": "Sum"
      },
      "templateType": 3,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 1000.0
        }
      ],
      "version": 14
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "GroomRoleAssignmentFullSyncTableTimerTask.DoWorkAsync,GroomRoleAssignmentFullSyncBlobTimerTask.DoWorkAsync,GroomRoleAssignmentPrefixAggregatedTimerTask.DoWorkAsync,GroomRoleAssignmentAggregatedDataTimerTask.DoWorkAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "IsActivityFailed",
          "true",
          ""
        ],
        [
          "Service",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": "let ExceptionType = Regex.Match(exception, \"^([a-zA-Z\\.]+Exception):\").Groups[1].Value",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-150&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&serverQuery=where%20service%20==%20\"{Monitor.Dimension.Service}\"\r%0Awhere%20activityName%20==%20\"{Monitor.Dimension.ActivityName}\"&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=true&aggregates=[\"Count%20by%20ArmEndpoint\",\"Count%20by%20ExceptionType\"]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=let%20ExceptionType%20=%20Regex.Match(exception,%20\"^([a-zA-Z\\.]+Exception):\").Groups[1].Value",
          "lookback": "02:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where service == \"{Monitor.Dimension.Service}\"\r\nwhere activityName == \"{Monitor.Dimension.ActivityName}\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Rbac grooming failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": true
            },
            {
              "key": "aggregates",
              "value": [
                "Count by ArmEndpoint",
                "Count by ExceptionType"
              ]
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "If the failure rate of rbac groming goes up something may be wrong with the regional rbac storage account and we may need to manually groom.",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "If the failure rate of rbac groming goes up something may be wrong with the regional rbac storage account and we may need to manually groom.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Rbac grooming aggregation failure rate",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "johncall",
      "lastUpdateTime": "2019-04-03T21:48:42.5756993Z",
      "lookbackDuration": "02:30:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "metric": "Count"
      },
      "templateType": 2,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 1.0
        }
      ],
      "version": 21
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "RbacDataDownloaderTimerTask.DoWorkAsync",
          ""
        ],
        [
          "Environment",
          "*",
          ""
        ],
        [
          "IsActivityFailed",
          "*",
          ""
        ],
        [
          "NodeNumber",
          "*",
          ""
        ],
        [
          "NodeType",
          "*",
          ""
        ],
        [
          "ParentActivityName",
          "*",
          ""
        ],
        [
          "Service",
          "*",
          ""
        ],
        [
          "Tenant",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [
            "Environment"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "RbacV3",
            "Query",
            "Downloader"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Rbac Ingestion",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": "orderby PreciseTimeStamp asc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "{Monitor.Dimension.NodeType}"
            ],
            "Tenant": [
              "{Monitor.Dimension.Tenant}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-3&offsetUnit=Hours&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&serverQuery=where%20activityName%20==%20\"RbacDataDownloaderTimerTask.DoWorkAsync\"%20%26%26%20service%20==%20\"{Monitor.Dimension.Service}\"&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"],[\"Tenant\",\"{Monitor.Dimension.Tenant}\"],[\"Role\",\"{Monitor.Dimension.NodeType}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20PreciseTimeStamp%20asc",
          "lookback": "03:00:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"RbacDataDownloaderTimerTask.DoWorkAsync\" && service == \"{Monitor.Dimension.Service}\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "RbacDataDownloader activities",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "If duration of rbac data downloader doesn't integrate enough files we may need to disable queries to this region. If we do nothing we may serve queries without a full sync of role assignments and not properly apply rbac.",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Per instance verifying that files are integrating on each node where rbac data downloader is running.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:10:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:20:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Rbac downloader succeeding",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "utsriva",
      "lastUpdateTime": "2020-06-09T11:08:04.1286088Z",
      "lookbackDuration": "02:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "percentageTemplate": {
          "denominator": [],
          "evaluatePureFraction": true,
          "multiplier": 1.0,
          "numerator": [
            {
              "dataSourceType": 0,
              "fetchMetrics": {
                "aggregateType": 0,
                "conditions": [
                  [
                    "Environment",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "NodeNumber",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "NodeType",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Tenant",
                    "*",
                    "",
                    "w",
                    "i"
                  ],
                  [
                    "Service",
                    "*",
                    "",
                    "w",
                    "i"
                  ]
                ],
                "dataSourceType": 0,
                "endTimeShift": "00:00:00",
                "isNegative": false,
                "lookbackDuration": "00:00:00",
                "metric": "RbacDownloaderFilesIntegrated",
                "metricsSourceAggregateType": 0,
                "monitoringAccount": "AzureResourcesTopology",
                "namespace": "ResourcesCacheProvider",
                "samplingType": "Sum",
                "useTotalAggregate": false
              }
            }
          ]
        },
        "skipOnNoData": false,
        "templateType": 6,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 6,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": "<",
          "healthStatus": 2,
          "severity": 3,
          "value": 2.0
        }
      ],
      "version": 11
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "IngestionMessageProcessingStrategy.ProcessMessageInternalAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "false",
          ""
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ],
        [
          "ScaleUnit",
          "ARG",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&conditions=[[\"service\",\"==\",\"PartialSyncIngestionService\"],[\"activityName\",\"contains\",\"IngestionMessageProcessingStrategy.ProcessMessageInternalAsync\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(service.EqualsI(\"PartialSyncIngestionService\")) and (activityName.ContainsI(\"IngestionMessageProcessingStrategy.ProcessMessageInternalAsync\"))",
          "serverQuerySimpleConditions": [
            {
              "comparand": "service",
              "operator": "==",
              "values": "PartialSyncIngestionService"
            },
            {
              "comparand": "activityName",
              "operator": "contains",
              "values": "IngestionMessageProcessingStrategy.ProcessMessageInternalAsync"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Successful and failed messages processed by PartialSync",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Our notifications are expected to be split among regions unevenly, based on the expected load size each region should support. \nUse \"ARM Notifications Redistribution\" dashboard linked in email to check that the same amount of notifications is still flowing, and just the distribution changed. If it is not the case, contact Notification V team.\n\n[Deployment case] The notifications will be redistributed differently than we are expecting initially due to other regions temporary supporting traffic while deployed region regains processing capabilities, and it will take a while for the balance to be regained. This is a possible case when the monitor will be triggered, but no action should be taken except for monitoring no data is lost.\n\n[Normal day case] Try to identify what could have been the reason (multiple nodes down, regional failures). If nothing seems to be the case, contact Notification Vteam.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:10:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "01:30:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "AbnormalNotificationCountRead",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "amdua",
      "lastUpdateTime": "2020-06-16T21:37:53.4956698Z",
      "lookbackDuration": "00:30:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scale Unit Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "jsSnippet": "JsFileRef:Azure~ology_Resou~vider_Acti~tion_Abnor~tRead_534af3c9eb703b46.js"
      },
      "templateType": 1,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 0.0
        }
      ],
      "version": 17
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "IngestionMessageProcessingStrategy.AddToRetryQueueAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "True",
          ""
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ],
        [
          "ScaleUnit",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&conditions=[[\"activityName\",\"==\",\"IngestionMessageProcessingStrategy.AddToRetryQueueAsync\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "activityName.EqualsI(\"IngestionMessageProcessingStrategy.AddToRetryQueueAsync\")",
          "serverQuerySimpleConditions": [
            {
              "comparand": "activityName",
              "operator": "==",
              "values": "IngestionMessageProcessingStrategy.AddToRetryQueueAsync"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Find put to queue failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        },
        {
          "$type": "Microsoft.Online.RecoveryService.Contract.Models.ActionConfiguration, Microsoft.Online.Metrics.Common",
          "actionDetails": {
            "actionAuthSignature": {
              "description": null,
              "metadataProperty": "actionAuthSignature",
              "name": "actionAuthSignature",
              "type": "string",
              "value": null
            },
            "endpoint": {
              "description": null,
              "metadataProperty": null,
              "name": "Endpoint",
              "type": "string",
              "value": "EUS_tm_nt"
            },
            "environment": {
              "description": null,
              "metadataProperty": null,
              "name": "Environment",
              "type": "string",
              "value": "Public"
            },
            "extension": {
              "description": null,
              "metadataProperty": null,
              "name": "Extension",
              "type": "string",
              "value": "Azure Resource Graph"
            },
            "operation": {
              "description": null,
              "metadataProperty": null,
              "name": "Operation",
              "type": "string",
              "value": "AdminReplayMessage_GetReplayMessagesInInterval"
            },
            "signatureExpiryUtc": {
              "description": null,
              "metadataProperty": "signatureExpiryUtc",
              "name": "signatureExpiryUtc",
              "type": "string",
              "value": null
            }
          },
          "actionType": 2,
          "autoExecute": false,
          "completionTimeout": 600,
          "description": null,
          "executionDelay": "00:00:00",
          "executionKind": 2,
          "externalRecoveryLink": "",
          "externalWorkflowName": "Replay messages",
          "name": "Replay messages",
          "parameters": [
            {
              "description": null,
              "metadataProperty": null,
              "name": "startTime",
              "type": "string",
              "value": "04/16/2020 21:05:00"
            },
            {
              "description": null,
              "metadataProperty": null,
              "name": "endTime",
              "type": "string",
              "value": "04/16/2020 22:05:00"
            },
            {
              "description": null,
              "metadataProperty": null,
              "name": "maximumLastReplayDateToReplay",
              "type": "string",
              "value": "04/16/2020 22:05:00"
            }
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "retryCount": 0,
          "stablizationTimeout": 0,
          "title": "Replay messages",
          "type": "Action"
        }
      ],
      "customMessage": "Invoke-GenevaActionsOperation -Extension \"Azure Resource Graph\" -Operation \"AdminReplayMessage_ReplayResourcesInInterval\" -Endpoint \"EUS_tm_nt\" -_startTime ([DateTime]::UtcNow.AddHours(-2).ToString('u')) -_endTime ([DateTime]::UtcNow.ToString('u'))  -_maximumLastReplayDateToReplay ([DateTime]::UtcNow.AddHours(-2).ToString('u')) -_replayMessagesAtOnce \"500\" ",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "AddToRetryQueue  activity is the method that puts in retry queue after reading eventhub.\nWhile retries should prevent queuing failure, storage failures could make us lose notification. \nNotifications lost from this should be in replay message in cosmos DB and livesite owner should replay them when this alert triggers.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 24,
      "healthyDurationToMitigateIncident": "01:55:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "MANUAL REPLAY REQUIRED - AddToRetryQueue failures",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "rchapas",
      "lastUpdateTime": "2020-06-08T21:24:18.4733652Z",
      "lookbackDuration": "00:10:00",
      "metadata": [
        {
          "metadataKey": "Icm.TsgId",
          "metadataValue": "https://microsoft.sharepoint.com/teams/GovernanceVteam/_layouts/OneNote.aspx?id=%2Fteams%2FGovernanceVteam%2FSiteAssets%2FGovernance%20Vteam%20Notebook&wd=target%28ARG%2FLivesite.one%7C0D4CF9B6-4A2C-40E4-92FE-742E1448468D%2FMANUAL%20REPLAY%20REQUIRED%20-%20AddToRetryQueue%20failures%7C9E4E35F3-C782-42EB-A568-D4D320BE3489%2F%29 onenote:https://microsoft.sharepoint.com/teams/GovernanceVteam/SiteAssets/Governance%20Vteam%20Notebook/ARG/Livesite.one#MANUAL%20REPLAY%20REQUIRED%20-%20AddToRetryQueue%20failures&section-id={0D4CF9B6-4A2C-40E4-92FE-742E1448468D}&page-id={9E4E35F3-C782-42EB-A568-D4D320BE3489}&end"
        }
      ],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scale Unit Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "metric": "Count"
      },
      "templateType": 2,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 3,
          "value": 0.0
        }
      ],
      "version": 25
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "FetchTenantSubscriptionsJob.ExecuteInternalAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "IngestionWorkerService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [],
          "executionDelay": "00:00:00",
          "lookbackDuration": "01:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "Onboarding"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": null,
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": "orderby durationMilliseconds desc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted&serverQuery=where%20activityName%20==%20\"FetchTenantSubscriptionsJob.ExecuteInternalAsync\"&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20durationMilliseconds%20desc",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "where activityName == \"FetchTenantSubscriptionsJob.ExecuteInternalAsync\"",
          "serverQuerySimpleConditions": null,
          "startTime": null,
          "stepback": "00:00:00",
          "title": "List subscription duration",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "The 95th percentile of list subscriptions should be less than 50 seconds, if this goes up there is either something wrong with ARM or there are not enough memory\\threads on our end to handle the call. ",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:05:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:10:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "List subscriptions duration",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-05-12T02:43:24.1431806Z",
      "lookbackDuration": "01:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "metric": "Average"
      },
      "templateType": 2,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 250000.0
        }
      ],
      "version": 12
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "NormalizerJob.ExecuteInternalAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "Service",
          "IngestionWorkerService",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": false,
          "dimensionsToOverride": [
            "ActivityName",
            "Environment",
            "Service"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "ARG Write Path",
            "Ingestion"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Ingestion Dashboard",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": "orderby durationMilliseconds desc",
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityCompleted",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            },
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ],
            "Role": [
              "nt0art"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityCompleted,ActivityFailed&conditions=[[\"activityName\",\"contains\",\"NormalizerJob.ExecuteInternalAsync\"]]&scopingConditions=[[\"Role\",\"nt0art\"],[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false&clientQuery=orderby%20durationMilliseconds%20desc",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "activityName.ContainsI(\"NormalizerJob.ExecuteInternalAsync\")",
          "serverQuerySimpleConditions": [
            {
              "comparand": "activityName",
              "operator": "contains",
              "values": "NormalizerJob.ExecuteInternalAsync"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "NormalizerJob durations",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "1- Monitor looks at the normalizer job duration.\n2/3- Normalization transforms the subscription into lists of resources to sync\n4- Slow down in normalization can happen when arm slows down. \n5- Hot config for disabling arm regions.\n6- Search for normalizer job activity in jarvis",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:20:00",
      "healthyCountToMitigateIncident": 3,
      "healthyDurationToMitigateIncident": "00:40:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Normalizer job duration",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-03-31T01:53:30.3112056Z",
      "lookbackDuration": "00:40:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "alertOnDivideByZeroError": "false",
        "denominator": "Count",
        "lookbackType": "01:00:00",
        "numerator": "Sum"
      },
      "templateType": 5,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 4.0
        },
        {
          "comparator": "<",
          "healthStatus": 2,
          "severity": 3,
          "value": 0.25
        }
      ],
      "version": 15
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "TenantRegistrationCosmosClient.ListUpdatedTenantRegistrationInfoAsync,RegistrationCosmosClient.ListUpdatedRegistrationInfoAsync,ResourceProviderManifestClient.ListUpdatedResourceProviderManifestsAsync,ProxyPartnerResourceProviderManifestClient.ListResourceProviderManifestsAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "true",
          ""
        ],
        [
          "Service",
          "*",
          "PartialSyncIngestionService"
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [
            "ActivityName",
            "Environment",
            "IsActivityFailed",
            "Service"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "CosmosDB"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Cosmos DB",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&conditions=[[\"activityName\",\"==\",\"{Monitor.Dimension.ActivityName}\"],[\"service\",\"==\",\"{Monitor.Dimension.Service}\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(activityName.EqualsI(\"{Monitor.Dimension.ActivityName}\")) and (service.EqualsI(\"{Monitor.Dimension.Service}\"))",
          "serverQuerySimpleConditions": [
            {
              "comparand": "activityName",
              "operator": "==",
              "values": "{Monitor.Dimension.ActivityName}"
            },
            {
              "comparand": "service",
              "operator": "==",
              "values": "{Monitor.Dimension.Service}"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Cache refresh failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "One of our auto refresh memory caches cannot update itself and became stale. Check Cosmos db connectivity.",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "00:27:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "CosmosDbCacheUpdateFailures",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "ilidemi",
      "lastUpdateTime": "2020-05-16T03:37:53.0797552Z",
      "lookbackDuration": "01:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Service Activity Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "failingBucketTemplate": {
          "bucketComparator": ">",
          "bucketDurationInMinutes": 1,
          "bucketTemplate": {
            "percentageTemplate": {
              "denominator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [
                      [
                        "ActivityName",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Environment",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "IsActivityFailed",
                        "false,true",
                        ""
                      ],
                      [
                        "Service",
                        "*",
                        "",
                        "w",
                        "i"
                      ]
                    ],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 0,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "Count",
                    "useTotalAggregate": false
                  }
                }
              ],
              "evaluatePureFraction": true,
              "multiplier": 1.0,
              "numerator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 0,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "Count",
                    "useTotalAggregate": false
                  }
                }
              ]
            },
            "templateType": 6,
            "valueOnDivideByZero": 0,
            "valueOnNull": 0
          },
          "bucketTemplateType": 6,
          "bucketThreshold": 0.0
        },
        "skipOnNoData": false,
        "templateType": 7,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 7,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 15.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 45.0
        }
      ],
      "version": 14
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "UserQueryGenerationConfiguration.DefaultUserQueryGenerationConfigChangeHandler,DatasetConfigMigrationTracker.ConfigChangeHandler,RequestOriginUtils.ConfigChangeHandlerMonitoringFactory,QueryServiceFactory.ConfigChangeHandler,ServiceQueryProcessConfigurationProvider.ConfigChangeHandlerMonitoringFactory,GetChangedSubscriptionsConfig.ConfigChangeHandler,QueryDatasetConfigClient.ConfigChangeHandler",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "true",
          ""
        ],
        [
          "Service",
          "*",
          ""
        ],
        [
          "ScaleUnit",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": false,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {},
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&conditions=[[\"activityName\",\"contains\",\"ConfigChangeHandler\"]]&scopingConditions=[]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "activityName.ContainsI(\"ConfigChangeHandler\")",
          "serverQuerySimpleConditions": [
            {
              "comparand": "activityName",
              "operator": "contains",
              "values": "ConfigChangeHandler"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "View config change handler failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "Monitors the success of config update. This is very new monitor, if it fires unexpectedly please let me(pawel) know! TSG in progress",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "00:27:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Config Change Handler Monitor",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "paposkro",
      "lastUpdateTime": "2020-06-11T23:05:01.8130958Z",
      "lookbackDuration": "00:05:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Global Prod Service Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": false,
      "shouldSendToAutomation": false,
      "templateSpecificParameters": {
        "metric": "Count"
      },
      "templateType": 2,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 3,
          "value": 0.0
        }
      ],
      "version": 3
    },
    {
      "category": "",
      "conditions": [
        [
          "ActivityName",
          "ResourceProviderManifestClient.ListUpdatedResourceProviderManifestsAsync",
          ""
        ],
        [
          "Environment",
          "*",
          "EUS2EUAP"
        ],
        [
          "IsActivityFailed",
          "true",
          ""
        ],
        [
          "Service",
          "PartialSyncIngestionService",
          ""
        ],
        [
          "ScaleUnit",
          "*",
          ""
        ]
      ],
      "customLinks": [
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DashboardConfiguration, Microsoft.Online.Metrics.Common",
          "accountName": "AzureResourcesTopology",
          "autoExecute": true,
          "dimensionsToOverride": [
            "ActivityName",
            "Environment",
            "IsActivityFailed",
            "Service"
          ],
          "executionDelay": "00:00:00",
          "lookbackDuration": "1.00:00:00",
          "name": null,
          "namespace": null,
          "path": [
            "CosmosDB"
          ],
          "preIncidentQueryTimeout": "00:00:50",
          "title": "Cosmos DB",
          "type": "Dashboard"
        },
        {
          "$type": "Microsoft.Online.Metrics.Common.EventConfiguration.DGrepJarvisLink, Microsoft.Online.Metrics.Common",
          "autoExecute": true,
          "clientQuery": null,
          "dGrepEndpoint": "https://dgrepv2-frontend-prod.trafficmanager.net/",
          "endpointAlias": "Diagnostics PROD",
          "endTime": "{EndTime}",
          "eventFilters": [
            {
              "isScrubbed": false,
              "monikerRegex": null,
              "nameRegex": "ActivityFailed",
              "namespaceRegex": "ResourceTopology",
              "versionRegex": null
            }
          ],
          "eventInfos": null,
          "executionDelay": "00:01:00",
          "identityColumns": {
            "Environment": [
              "{Monitor.Dimension.Environment}"
            ]
          },
          "jarvisPathAndQuery": "?page=logs&be=DGrep&time={EndTime}&offset=-30&offsetUnit=Minutes&ep=Diagnostics%20PROD&ns=ResourceTopology&en=ActivityFailed&conditions=[[\"activityName\",\"==\",\"{Monitor.Dimension.ActivityName}\"],[\"service\",\"==\",\"{Monitor.Dimension.Service}\"]]&scopingConditions=[[\"Environment\",\"{Monitor.Dimension.Environment}\"]]&aggregatesVisible=false&aggregates=[]&chartsVisible=false&chartEditorVisible=true&chartType=Line&chartLayers=[[\"New%20Layer\",\"\"]]&UTC=false",
          "lookback": "00:30:00",
          "maxResultRowCount": 15,
          "maxRowCount": 500000,
          "mdsEndpoint": "https://production.diagnostics.monitoring.core.windows.net/",
          "preIncidentQueryTimeout": "00:00:50",
          "serverQuery": "(activityName.EqualsI(\"{Monitor.Dimension.ActivityName}\")) and (service.EqualsI(\"{Monitor.Dimension.Service}\"))",
          "serverQuerySimpleConditions": [
            {
              "comparand": "activityName",
              "operator": "==",
              "values": "{Monitor.Dimension.ActivityName}"
            },
            {
              "comparand": "service",
              "operator": "==",
              "values": "{Monitor.Dimension.Service}"
            }
          ],
          "startTime": null,
          "stepback": "00:00:00",
          "title": "Cache refresh failures",
          "type": "DGrep",
          "uxParameters": [
            {
              "key": "aggregatesVisible",
              "value": false
            },
            {
              "key": "aggregates",
              "value": []
            },
            {
              "key": "chartsVisible",
              "value": false
            },
            {
              "key": "chartEditorVisible",
              "value": true
            },
            {
              "key": "chartType",
              "value": "Line"
            },
            {
              "key": "chartLayers",
              "value": [
                [
                  "New Layer",
                  ""
                ]
              ]
            },
            {
              "key": "UTC",
              "value": false
            }
          ]
        }
      ],
      "customMessage": "",
      "customTitle": "",
      "dashboardName": "",
      "dashboardNamespace": "",
      "description": "This is Storage Blob dependent cache.. Please check look into storage account 's connectivity issues",
      "desiredConditions": null,
      "eventIdentifier": {
        "component": "ResourcesCacheProvider",
        "id": "ActivityDuration",
        "tenant": "AzureResourcesTopology"
      },
      "explicitPreAgg": null,
      "frequency": "00:03:00",
      "healthyCountToMitigateIncident": 10,
      "healthyDurationToMitigateIncident": "00:27:00",
      "hintsLookbackDuration": "1.00:00:00",
      "id": "Storage Account Cache PS",
      "ingestionDelay": "00:00:00",
      "inputResourceType": "",
      "isDisabled": false,
      "isRegularMonitor": true,
      "isSilent": false,
      "isThrottled": false,
      "lastUpdatedBy": "chgupta",
      "lastUpdateTime": "2020-06-29T22:55:28.7307775Z",
      "lookbackDuration": "01:00:00",
      "metadata": [],
      "metricsViewName": "",
      "monitorActorConfiguration": {
        "additionalDataForMonitorsEnabled": false,
        "azureCacheTimeToExclude": "00:00:00",
        "baselineConcurrentGetAnomalyCallsV2": 0,
        "baselineFastServiceUri": null,
        "baselineFastServiceUriForAzure": null,
        "baselineIsAnomalyBatchProcessingSize": 0,
        "baselineServiceUri": null,
        "baselineServiceUriForAzure": null,
        "baselineServiceUseQueryService": false,
        "baselineUiFacingServiceUri": null,
        "baselineUiFacingServiceUriForAzure": null,
        "baseReportExpirationTimeInSeconds": 0,
        "batchReportingMonitor": false,
        "cacheTimeToExclude": "00:00:00",
        "cadMaxCombinationsEvaluationThreshold": 0,
        "certificateIdentifier": null,
        "certificateThumbprint": null,
        "combinationDeltaFetchLookback": "00:00:00",
        "combinationRefreshMinInterval": "00:00:00",
        "combinationsChunkSizePerConcurrentEvaluateBlock": 0,
        "consecutiveMonitorTimeoutsForAlerting": 0,
        "customizeSeverityForMonitorExecutionFailure": false,
        "debug": false,
        "disabled": false,
        "disableMetricDataInAlerts": false,
        "dqConcurrencyConfiguration": null,
        "dynamicThresholdMaxCombinationsEvaluationThreshold": 0,
        "enableCombinationsThrottlingForCad": false,
        "enableCostReporting": false,
        "enableDictionaryBasedMetricsSourceMatching": false,
        "enableGroupingByCommonDimensions": false,
        "enableHealthMonitors": false,
        "enableMonitorTimeoutAlerts": false,
        "enableQueryServiceQosMetricSupport": false,
        "enableSelectPreaggregate": false,
        "enableSubmitMetricsFromJs": false,
        "evaluatorTimeout": "00:00:00",
        "fetchDeltaHints": false,
        "hasUserConfigCacheTimeToExclude": null,
        "hintLookbackDuration": "00:00:00",
        "includeTimeSeriesInformationInWatchdogMetadata": false,
        "isThirdPartyStamp": false,
        "kenshoServiceUri": null,
        "logCombinationsInfo": false,
        "maxBufferSizeForRetrievedData": 0,
        "maxCombinationsCountPerPartition": 0,
        "maxCombinationsEvaluationThreshold": 0,
        "maxCombinationsForDataSources": 0,
        "maxCombinationsForMetricSources": 0,
        "maxConcurrentRetrieveOperations": 0,
        "maxDegreeOfParallelismForEvaluateBlock": 0,
        "maxFetchMetricsInJs": 0,
        "minCombinationsCountToRequirePartition": 0,
        "notQueryMetricsSourceCombinationIfNoWildcard": false,
        "overrideHealthDataValidation": false,
        "overrideMetricDataValidation": false,
        "partnerClientCertificateIdentifier": null,
        "preferMetricsStore": false,
        "preventCombinationsOverwriteByDeltaRefresh": false,
        "previewWithHistoricData": false,
        "removeExtraIngestionDelayInExecution": false,
        "removeExtraQueryComparison": false,
        "resourceTypeOverride": null,
        "treatInheritNotAsWildcard": false,
        "useAccountMigrationSupport": false,
        "useDefaultAzureMonitorLatency": false,
        "useHealthService": false,
        "useInternalHintingApi": false,
        "useLatestQueryRequestSerializationVersion": false,
        "useLowLatencyPipelineDataQualityForAzureMonitor": false,
        "useMetricsStoreMigrationSupport": false,
        "useNewHintingApi": false,
        "useNewMonitorTemplateInterface": false,
        "useNewMonitorTemplateInterfaceForDynamicThreshold": false,
        "useOptimizedMetricFetch": false,
        "useQueryServiceBatching": false,
        "useQueryServiceBatchingForJs": false,
        "useQueryServiceForCrossStampQuery": false,
        "useQueryServiceInMdmDataQualityClient": false,
        "useResolutionForAnomalyTimeWindowLookback": false,
        "zeroAsNoValueSentinel": false
      },
      "monitorDataSourceType": 0,
      "raiseIncientOnMonitorFailure": null,
      "resourceType": "Scale Unit Notifications Activity Health",
      "severityForMonitorFailure": 0,
      "shouldMitigateIncident": true,
      "shouldSendToAutomation": false,
      "templateConfiguration": {
        "alertOnDivideByZero": false,
        "divideByZeroNotFailure": false,
        "failingBucketTemplate": {
          "bucketComparator": ">",
          "bucketDurationInMinutes": 1,
          "bucketTemplate": {
            "percentageTemplate": {
              "denominator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [
                      [
                        "ActivityName",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "Environment",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "IsActivityFailed",
                        "false,true",
                        ""
                      ],
                      [
                        "Service",
                        "*",
                        "",
                        "w",
                        "i"
                      ],
                      [
                        "ScaleUnit",
                        "*",
                        "",
                        "w",
                        "i"
                      ]
                    ],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 0,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "Count",
                    "useTotalAggregate": false
                  }
                }
              ],
              "evaluatePureFraction": true,
              "multiplier": 1.0,
              "numerator": [
                {
                  "dataSourceType": 0,
                  "fetchMetrics": {
                    "aggregateType": 0,
                    "conditions": [],
                    "dataSourceType": 0,
                    "endTimeShift": "00:00:00",
                    "isNegative": false,
                    "lookbackDuration": "00:00:00",
                    "metric": "ActivityDuration",
                    "metricsSourceAggregateType": 0,
                    "monitoringAccount": "AzureResourcesTopology",
                    "namespace": "ResourcesCacheProvider",
                    "samplingType": "Count",
                    "useTotalAggregate": false
                  }
                }
              ]
            },
            "templateType": 6,
            "valueOnDivideByZero": 0,
            "valueOnNull": 0
          },
          "bucketTemplateType": 6,
          "bucketThreshold": 0.0
        },
        "skipOnNoData": false,
        "templateType": 7,
        "valueOnDivideByZero": 0
      },
      "templateSpecificParameters": {
        "_DUMMY_PROPERTY_": "Dummy"
      },
      "templateType": 7,
      "tenantName": "",
      "thresholds": [
        {
          "comparator": ">",
          "healthStatus": 2,
          "severity": 3,
          "value": 15.0
        },
        {
          "comparator": ">",
          "healthStatus": 1,
          "severity": 2,
          "value": 45.0
        }
      ],
      "version": 17
    }
  ],
  "pendingMetricsOrderingFix": false,
  "preferQueryMetricsStore": null,
  "replicationState": 0,
  "tenant": "AzureResourcesTopology",
  "treatMissingSeriesAsZeros": false,
  "version": 0,
  "views": null
}